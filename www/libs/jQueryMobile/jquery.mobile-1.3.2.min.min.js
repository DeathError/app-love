/*! jQuery Mobile 1.3.2 | Git HEAD hash: 528cf0e <> 2013-07-19T22:17:57Z | (c) 2010, 2013 jQuery Foundation, Inc. | jquery.org/license */
!function(e,d,f){"function"==typeof define&&define.amd?define(["jquery"],function(a){return f(a,e,d),a.mobile}):f(e.jQuery,e,d)}(this,document,function(f,e,h,g){!function(b){b.mobile={}}(f),function(i,c,m){var l={};i.mobile=i.extend(i.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:i(c),document:i(h),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(a){"number"!==i.type(a)&&(a=i.mobile.defaultHomeScroll),i.event.special.scrollstart.enabled=!1,setTimeout(function(){c.scrollTo(0,a),i.mobile.document.trigger("silentscroll",{x:0,y:a})},20),setTimeout(function(){i.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:l,nsNormalize:function(a){return a?l[a]||(l[a]=i.camelCase(i.mobile.ns+a)):void 0},getInheritedTheme:function(o,n){for(var t,s,r=o[0],q="",p=/ui-(bar|body|overlay)-([a-z])\b/;r&&(t=r.className||"",!(t&&(s=p.exec(t))&&(q=s[2])));){r=r.parentNode}return q||n||"a"},closestPageData:function(b){return b.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(b){return this.haveParents(b,"enhance")},hijackable:function(b){return this.haveParents(b,"ajax")},haveParents:function(u,t){if(!i.mobile.ignoreContentEnabled){return u}for(var s,r,q,p=u.length,o=i(),n=0;p>n;n++){for(r=u.eq(n),q=!1,s=u[n];s;){var a=s.getAttribute?s.getAttribute("data-"+i.mobile.ns+t):"";if("false"===a){q=!0;break}s=s.parentNode}q||(o=o.add(r))}return o},getScreenHeight:function(){return c.innerHeight||i.mobile.window.height()}},i.mobile),i.fn.jqmData=function(a,n){var d;return"undefined"!=typeof a&&(a&&(a=i.mobile.nsNormalize(a)),d=arguments.length<2||n===m?this.data(a):this.data(a,n)),d},i.jqmData=function(a,p,o){var n;return"undefined"!=typeof p&&(n=i.data(a,p?i.mobile.nsNormalize(p):p,o)),n},i.fn.jqmRemoveData=function(a){return this.removeData(i.mobile.nsNormalize(a))},i.jqmRemoveData=function(a,d){return i.removeData(a,i.mobile.nsNormalize(d))},i.fn.removeWithDependents=function(){i.removeWithDependents(this)},i.removeWithDependents=function(a){var d=i(a);(d.jqmData("dependents")||i()).remove(),d.remove()},i.fn.addDependents=function(a){i.addDependents(i(this),a)},i.addDependents=function(a,o){var n=i(a).jqmData("dependents")||i();i(a).jqmData("dependents",i.merge(n,o))},i.fn.getEncodedText=function(){return i("<div/>").text(i(this).text()).html()},i.fn.jqmEnhanceable=function(){return i.mobile.enhanceable(this)},i.fn.jqmHijackable=function(){return i.mobile.hijackable(this)};var k=i.find,j=/:jqmData\(([^)]*)\)/g;i.find=function(a,p,o,n){return a=a.replace(j,"[data-"+(i.mobile.ns||"")+"$1]"),k.call(this,a,p,o,n)},i.extend(i.find,k),i.find.matches=function(a,d){return i.find(a,null,null,d)},i.find.matchesSelector=function(a,d){return i.find(d,null,null,[a]).length>0}}(f,this),function(j,i){var m=0,l=Array.prototype.slice,k=j.cleanData;j.cleanData=function(a){for(var p,o=0;null!=(p=a[o]);o++){try{j(p).triggerHandler("remove")}catch(n){}}k(a)},j.widget=function(a,t,s){var r,q,p,o,n=a.split(".")[0];a=a.split(".")[1],r=n+"-"+a,s||(s=t,t=j.Widget),j.expr[":"][r.toLowerCase()]=function(c){return !!j.data(c,r)},j[n]=j[n]||{},q=j[n][a],p=j[n][a]=function(d,c){return this._createWidget?(arguments.length&&this._createWidget(d,c),void 0):new p(d,c)},j.extend(p,q,{version:s.version,_proto:j.extend({},s),_childConstructors:[]}),o=new t,o.options=j.widget.extend({},o.options),j.each(s,function(c,d){j.isFunction(d)&&(s[c]=function(){var b=function(){return t.prototype[c].apply(this,arguments)},u=function(v){return t.prototype[c].apply(this,v)};return function(){var v,x=this._super,w=this._superApply;return this._super=b,this._superApply=u,v=d.apply(this,arguments),this._super=x,this._superApply=w,v}}())}),p.prototype=j.widget.extend(o,{widgetEventPrefix:q?o.widgetEventPrefix:a},s,{constructor:p,namespace:n,widgetName:a,widgetFullName:r}),q?(j.each(q._childConstructors,function(u,w){var v=w.prototype;j.widget(v.namespace+"."+v.widgetName,p,w._proto)}),delete q._childConstructors):t._childConstructors.push(p),j.widget.bridge(a,p)},j.widget.extend=function(p){for(var o,n,d=l.call(arguments,1),b=0,a=d.length;a>b;b++){for(o in d[b]){n=d[b][o],d[b].hasOwnProperty(o)&&n!==i&&(p[o]=j.isPlainObject(n)?j.isPlainObject(p[o])?j.widget.extend({},p[o],n):j.widget.extend({},n):n)}}return p},j.widget.bridge=function(d,b){var a=b.prototype.widgetFullName||d;j.fn[d]=function(p){var o="string"==typeof p,n=l.call(arguments,1),c=this;return p=!o&&n.length?j.widget.extend.apply(null,[p].concat(n)):p,o?this.each(function(){var r,q=j.data(this,a);return q?j.isFunction(q[p])&&"_"!==p.charAt(0)?(r=q[p].apply(q,n),r!==q&&r!==i?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):void 0):j.error("no such method '"+p+"' for "+d+" widget instance"):j.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+p+"'")}):this.each(function(){var q=j.data(this,a);q?q.option(p||{})._init():j.data(this,a,new b(p,this))}),c}},j.Widget=function(){},j.Widget._childConstructors=[],j.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,c){c=j(c||this.defaultElement||this)[0],this.element=j(c),this.uuid=m++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=j.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=j(),this.hoverable=j(),this.focusable=j(),c!==this&&(j.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===c&&this.destroy()}}),this.document=j(c.style?c.ownerDocument:c.document||c),this.window=j(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:j.noop,_getCreateEventData:j.noop,_create:j.noop,_init:j.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(j.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:j.noop,widget:function(){return this.element},option:function(q,p){var o,n,b,a=q;if(0===arguments.length){return j.widget.extend({},this.options)}if("string"==typeof q){if(a={},o=q.split("."),q=o.shift(),o.length){for(n=a[q]=j.widget.extend({},this.options[q]),b=0;b<o.length-1;b++){n[o[b]]=n[o[b]]||{},n=n[o[b]]}if(q=o.pop(),p===i){return n[q]===i?null:n[q]}n[q]=p}else{if(p===i){return this.options[q]===i?null:this.options[q]}a[q]=p}}return this._setOptions(a),this},_setOptions:function(d){var c;for(c in d){this._setOption(c,d[c])}return this},_setOption:function(d,c){return this.options[d]=c,"disabled"===d&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,q,p){var o,n=this;"boolean"!=typeof a&&(p=q,q=a,a=!1),p?(q=o=j(q),this.bindings=this.bindings.add(q)):(p=q,q=this.element,o=this.widget()),j.each(p,function(u,t){function s(){return a||n.options.disabled!==!0&&!j(this).hasClass("ui-state-disabled")?("string"==typeof t?n[t]:t).apply(n,arguments):void 0}"string"!=typeof t&&(s.guid=t.guid=t.guid||s.guid||j.guid++);var r=u.match(/^(\w+)\s*(.*)$/),c=r[1]+n.eventNamespace,b=r[2];b?o.delegate(b,c,s):q.bind(c,s)})},_off:function(d,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,d.unbind(c).undelegate(c)},_delay:function(o,n){function q(){return("string"==typeof o?p[o]:o).apply(p,arguments)}var p=this;return setTimeout(q,n||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(c){j(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){j(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(c){j(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){j(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,r,q){var p,o,n=this.options[a];if(q=q||{},r=j.Event(r),r.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),r.target=this.element[0],o=r.originalEvent){for(p in o){p in r||(r[p]=o[p])}}return this.element.trigger(r,q),!(j.isFunction(n)&&n.apply(this.element[0],[r].concat(q))===!1||r.isDefaultPrevented())}},j.each({show:"fadeIn",hide:"fadeOut"},function(a,d){j.Widget.prototype["_"+a]=function(p,o,n){"string"==typeof o&&(o={effect:o});var c,b=o?o===!0||"number"==typeof o?d:o.effect||d:a;o=o||{},"number"==typeof o&&(o={duration:o}),c=!j.isEmptyObject(o),o.complete=n,o.delay&&p.delay(o.delay),c&&j.effects&&j.effects.effect[b]?p[a](o):b!==a&&p[b]?p[b](o.duration,o.easing,n):p.queue(function(q){j(this)[a](),n&&n.call(p[0]),q()})}})}(f),function(d,c){d.widget("mobile.widget",{_createWidget:function(){d.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var b=this.element,a={};return d.each(this.options,function(i){var j=b.jqmData(i.replace(/[A-Z]/g,function(k){return"-"+k.toLowerCase()}));j!==c&&(a[i]=j)}),a},enhanceWithin:function(a,i){this.enhance(d(this.options.initSelector,d(a)),i)},enhance:function(a,l){var k,j,i=d(a);i=d.mobile.enhanceable(i),l&&i.length&&(k=d.mobile.closestPageData(i),j=k&&k.keepNativeSelector()||"",i=i.not(j)),i[this.widgetName]()},raise:function(b){throw"Widget ["+this.widgetName+"]: "+b}})}(f),function(i){i.extend(i.mobile,{loadingMessageTextVisible:g,loadingMessageTheme:g,loadingMessage:g,showPageLoadingMsg:function(a,m,l){i.mobile.loading("show",a,m,l)},hidePageLoadingMsg:function(){i.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var d="ui-loader",k=i("html"),j=i.mobile.window;i.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+d+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var a=i("."+i.mobile.activeBtnClass).first();this.element.css({top:i.support.scrollTop&&j.scrollTop()+j.height()/2||a.length&&a.offset().top||100})},checkLoaderPosition:function(){var a=this.element.offset(),m=j.scrollTop(),l=i.mobile.getScreenHeight();(a.top<m||a.top-m>l)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),j.unbind("scroll",this.checkLoaderPosition).bind("scroll",i.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(i(this.defaultHtml).html())},show:function(n,m,l){var c,b,a;this.resetHtml(),"object"===i.type(n)?(a=i.extend({},this.options,n),n=a.theme||i.mobile.loadingMessageTheme):(a=this.options,n=n||i.mobile.loadingMessageTheme||a.theme),b=m||i.mobile.loadingMessage||a.text,k.addClass("ui-loading"),(i.mobile.loadingMessage!==!1||a.html)&&(c=i.mobile.loadingMessageTextVisible!==g?i.mobile.loadingMessageTextVisible:a.textVisible,this.element.attr("class",d+" ui-corner-all ui-body-"+n+" ui-loader-"+(c||m||n.text?"verbose":"default")+(a.textonly||l?" ui-loader-textonly":"")),a.html?this.element.html(a.html):this.element.find("h1").text(b),this.element.appendTo(i.mobile.pageContainer),this.checkLoaderPosition(),j.bind("scroll",i.proxy(this.checkLoaderPosition,this)))},hide:function(){k.removeClass("ui-loading"),i.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),i.mobile.window.unbind("scroll",this.fakeFixLoader),i.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),j.bind("pagecontainercreate",function(){i.mobile.loaderWidget=i.mobile.loaderWidget||i(i.mobile.loader.prototype.defaultHtml).loader()})}(f,this),function(t,s,r){function q(b){return b=b||location.href,"#"+b.replace(/^[^#]*#?(.*)$/,"$1")}var p,o="hashchange",n=h,m=t.event.special,l=n.documentMode,c="on"+o in s&&(l===r||l>7);t.fn[o]=function(b){return b?this.bind(o,b):this.trigger(o)},t.fn[o].delay=50,m[o]=t.extend(m[o],{setup:function(){return c?!1:(t(p.start),void 0)},teardown:function(){return c?!1:(t(p.stop),void 0)}}),p=function(){function w(){var j=q(),i=v(d);j!==d?(a(d=j,i),t(s).trigger(o)):i!==d&&(location.href=location.href.replace(/#.*/,"")+i),u=setTimeout(w,t.fn[o].delay)}var u,k={},d=q(),b=function(i){return i},a=b,v=b;return k.start=function(){u||w()},k.stop=function(){u&&clearTimeout(u),u=r},s.attachEvent&&!s.addEventListener&&!c&&function(){var i,j;k.start=function(){i||(j=t.fn[o].src,j=j&&j+q(),i=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){j||a(q()),w()}).attr("src",j||"javascript:0").insertAfter("body")[0].contentWindow,n.onpropertychange=function(){try{"title"===event.propertyName&&(i.document.title=n.title)}catch(x){}})},k.stop=b,v=function(){return q(i.location.href)},a=function(A,z){var y=i.document,x=t.fn[o].domain;A!==z&&(y.title=n.title,y.open(),x&&y.write('<script>document.domain="'+x+'"<\/script>'),y.close(),i.location.hash=A)}}(),k}()}(f,this),function(b){e.matchMedia=e.matchMedia||function(j){var i,n=j.documentElement,m=n.firstElementChild||n.firstChild,l=j.createElement("body"),k=j.createElement("div");return k.id="mq-test-1",k.style.cssText="position:absolute;top:-100em",l.style.background="none",l.appendChild(k),function(c){return k.innerHTML='&shy;<style media="'+c+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(l,m),i=42===k.offsetWidth,n.removeChild(l),{matches:i,media:c}}}(h),b.mobile.media=function(c){return e.matchMedia(c).matches}}(f),function(d){var c={touch:"ontouchend" in h};d.mobile.support=d.mobile.support||{},d.extend(d.support,c),d.extend(d.mobile.support,c)}(f),function(b){b.extend(b.support,{orientation:"orientation" in e&&"onorientationchange" in e})}(f),function(G,F){function E(i){var d=i.charAt(0).toUpperCase()+i.substr(1),k=(i+" "+v.join(d+" ")+d).split(" ");for(var j in k){if(w[k[j]]!==F){return !0}}}function D(J,I,s){for(var r,q=h.createElement("div"),p=function(d){return d.charAt(0).toUpperCase()+d.substr(1)},o=function(d){return""===d?"":"-"+d.charAt(0).toLowerCase()+d.substr(1)+"-"},n=function(L){var K=o(L)+J+": "+I+";",k=p(L),a=k+(""===k?J:p(J));q.setAttribute("style",K),q.style[a]&&(r=!0)},m=s?s:v,l=0;l<m.length;l++){n(m[l])}return !!r}function C(){var l="transform-3d",k=G.mobile.media("(-"+v.join("-"+l+"),(-")+"-"+l+"),("+l+")");if(k){return !!k}var j=h.createElement("div"),d={MozTransform:"-moz-transform",transform:"transform"};x.append(j);for(var a in d){j.style[a]!==F&&(j.style[a]="translate3d( 100px, 1px, 1px )",k=e.getComputedStyle(j).getPropertyValue(d[a]))}return !!k&&"none"!==k}function B(){var a,m,l=location.protocol+"//"+location.host+location.pathname+"ui-dir/",k=G("head base"),j=null,i="";return k.length?i=k.attr("href"):k=j=G("<base>",{href:l}).appendTo("head"),a=G("<a href='testurl' />").prependTo(x),m=a[0].href,k[0].href=i||location.pathname,j&&j.remove(),0===m.indexOf(l)}function A(){var i,l=h.createElement("x"),k=h.documentElement,j=e.getComputedStyle;return"pointerEvents" in l.style?(l.style.pointerEvents="auto",l.style.pointerEvents="x",k.appendChild(l),i=j&&"auto"===j(l,"").pointerEvents,k.removeChild(l),!!i):!1}function z(){var d=h.createElement("div");return"undefined"!=typeof d.getBoundingClientRect}function y(){var s=e,r=navigator.userAgent,q=navigator.platform,p=r.match(/AppleWebKit\/([0-9]+)/),o=!!p&&p[1],n=r.match(/Fennec\/([0-9]+)/),m=!!n&&n[1],l=r.match(/Opera Mobi\/([0-9]+)/),k=!!l&&l[1];return(q.indexOf("iPhone")>-1||q.indexOf("iPad")>-1||q.indexOf("iPod")>-1)&&o&&534>o||s.operamini&&"[object OperaMini]"==={}.toString.call(s.operamini)||l&&7458>k||r.indexOf("Android")>-1&&o&&533>o||m&&6>m||"palmGetResource" in e&&o&&534>o||r.indexOf("MeeGo")>-1&&r.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var x=G("<body>").prependTo("html"),w=x[0].style,v=["Webkit","Moz","O"],u="palmGetResource" in e,t=e.opera,c=e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini),b=e.blackberry&&!E("-webkit-transform");G.extend(G.mobile,{browser:{}}),G.mobile.browser.oldIE=function(){var j=3,i=h.createElement("div"),k=i.all||[];do{i.innerHTML="<!--[if gt IE "+ ++j+"]><br><![endif]-->"}while(k[0]);return j>4?j:!j}(),G.extend(G.support,{cssTransitions:"WebKitTransitionEvent" in e||D("transition","height 100ms linear",["Webkit","Moz",""])&&!G.mobile.browser.oldIE&&!t,pushState:"pushState" in history&&"replaceState" in history&&!(e.navigator.userAgent.indexOf("Firefox")>=0&&e.top!==e)&&-1===e.navigator.userAgent.search(/CriOS/),mediaquery:G.mobile.media("only all"),cssPseudoElement:!!E("content"),touchOverflow:!!E("overflowScrolling"),cssTransform3d:C(),boxShadow:!!E("boxShadow")&&!b,fixedPosition:y(),scrollTop:("pageXOffset" in e||"scrollTop" in h.documentElement||"scrollTop" in x[0])&&!u&&!c,dynamicBaseTag:B(),cssPointerEvents:A(),boundingRect:z()}),x.remove();var H=function(){var d=e.navigator.userAgent;return d.indexOf("Nokia")>-1&&(d.indexOf("Symbian/3")>-1||d.indexOf("Series60/5")>-1)&&d.indexOf("AppleWebKit")>-1&&d.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();G.mobile.gradeA=function(){return(G.support.mediaquery||G.mobile.browser.oldIE&&G.mobile.browser.oldIE>=7)&&(G.support.boundingRect||null!==G.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},G.mobile.ajaxBlacklist=e.blackberry&&!e.WebKitPoint||c||H,H&&G(function(){G("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),G.support.boxShadow||G("html").addClass("ui-mobile-nosupport-boxshadow")}(f),function(j,i){var l,k=j.mobile.window;j.event.special.navigate=l={bound:!1,pushStateEnabled:!0,originalEventName:i,isPushStateEnabled:function(){return j.support.pushState&&j.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return j.mobile.hashListeningEnabled===!0},popstate:function(a){var n=new j.Event("navigate"),m=new j.Event("beforenavigate"),d=a.originalEvent.state||{};location.href,k.trigger(m),m.isDefaultPrevented()||(a.historyState&&j.extend(d,a.historyState),n.originalEvent=a,setTimeout(function(){k.trigger(n,{state:d})},0))},hashchange:function(a){var m=new j.Event("navigate"),d=new j.Event("beforenavigate");k.trigger(d),d.isDefaultPrevented()||(m.originalEvent=a,k.trigger(m,{state:a.hashchangeState||{}}))},setup:function(){l.bound||(l.bound=!0,l.isPushStateEnabled()?(l.originalEventName="popstate",k.bind("popstate.navigate",l.popstate)):l.isHashChangeEnabled()&&(l.originalEventName="hashchange",k.bind("hashchange.navigate",l.hashchange)))}}}(f),function(b,l){var k,j,i="&ui-state=dialog";b.mobile.path=k={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(m){var d=m?this.parseUrl(m):location,n=this.parseUrl(m||location.href).hash;return n="#"===n?"":n,d.protocol+"//"+d.host+d.pathname+d.search+n},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(a){if("object"===b.type(a)){return a}var d=k.urlParseRE.exec(a||"")||[];return{href:d[0]||"",hrefNoHash:d[1]||"",hrefNoSearch:d[2]||"",domain:d[3]||"",protocol:d[4]||"",doubleSlash:d[5]||"",authority:d[6]||"",username:d[8]||"",password:d[9]||"",host:d[10]||"",hostname:d[11]||"",port:d[12]||"",pathname:d[13]||"",directory:d[14]||"",filename:d[15]||"",search:d[16]||"",hash:d[17]||""}},makePathAbsolute:function(n,m){if(n&&"/"===n.charAt(0)){return n}n=n||"",m=m?m.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var r=m?m.split("/"):[],q=n.split("/"),p=0;p<q.length;p++){var o=q[p];switch(o){case".":break;case"..":r.length&&r.pop();break;default:r.push(o)}}return"/"+r.join("/")},isSameDomain:function(d,c){return k.parseUrl(d).domain===k.parseUrl(c).domain},isRelativeUrl:function(c){return""===k.parseUrl(c).protocol},isAbsoluteUrl:function(c){return""!==k.parseUrl(c).protocol},makeUrlAbsolute:function(v,u){if(!k.isRelativeUrl(v)){return v}u===l&&(u=this.documentBase);var t=k.parseUrl(v),s=k.parseUrl(u),r=t.protocol||s.protocol,q=t.protocol?t.doubleSlash:t.doubleSlash||s.doubleSlash,p=t.authority||s.authority,o=""!==t.pathname,n=k.makePathAbsolute(t.pathname||s.filename,s.pathname),d=t.search||!o&&s.search||"",c=t.hash;return r+q+p+n+d+c},addSearchParams:function(a,o){var n=k.parseUrl(a),m="object"==typeof o?b.param(o):o,d=n.search||"?";return n.hrefNoSearch+d+("?"!==d.charAt(d.length-1)?"&":"")+m+(n.hash||"")},convertUrlToDataUrl:function(d){var m=k.parseUrl(d);return k.isEmbeddedPage(m)?m.hash.split(i)[0].replace(/^#/,"").replace(/\?.*$/,""):k.isSameDomain(m,this.documentBase)?m.hrefNoHash.replace(this.documentBase.domain,"").split(i)[0]:e.decodeURIComponent(d)},get:function(c){return c===l&&(c=k.parseLocation().hash),k.stripHash(c).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(c){location.hash=c},isPath:function(c){return/\//.test(c)},clean:function(c){return c.replace(this.documentBase.domain,"")},stripHash:function(c){return c.replace(/^#/,"")},stripQueryParams:function(c){return c.replace(/\?.*$/,"")},cleanHash:function(c){return k.stripHash(c.replace(/\?.*$/,"").replace(i,""))},isHashValid:function(c){return/^#[^#]+$/.test(c)},isExternal:function(d){var c=k.parseUrl(d);return c.protocol&&c.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(c){return/^(:?\w+:)/.test(c)},isEmbeddedPage:function(d){var c=k.parseUrl(d);return""!==c.protocol?!this.isPath(c.hash)&&c.hash&&(c.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&c.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(c.href)},squash:function(u,t){var s,r,q,p,o=this.isPath(u),n=this.parseUrl(u),m=n.hash,d="";return t=t||(k.isPath(u)?k.getLocation():k.getDocumentUrl()),r=o?k.stripHash(u):u,r=k.isPath(n.hash)?k.stripHash(n.hash):r,p=r.indexOf(this.uiStateKey),p>-1&&(d=r.slice(p),r=r.slice(0,p)),s=k.makeUrlAbsolute(r,t),q=this.parseUrl(s).search,o?((k.isPath(m)||0===m.replace("#","").indexOf(this.uiStateKey))&&(m=""),d&&-1===m.indexOf(this.uiStateKey)&&(m+=d),-1===m.indexOf("#")&&""!==m&&(m="#"+m),s=k.parseUrl(s),s=s.protocol+"//"+s.host+s.pathname+q+m):s+=s.indexOf("#")>-1?d:"#"+d,s},isPreservableHash:function(c){return 0===c.replace("#","").indexOf(this.uiStateKey)}},k.documentUrl=k.parseLocation(),j=b("head").find("base"),k.documentBase=j.length?k.parseUrl(k.makeUrlAbsolute(j.attr("href"),k.documentUrl.href)):k.documentUrl,k.documentBaseDiffers=k.documentUrl.hrefNoHash!==k.documentBase.hrefNoHash,k.getDocumentUrl=function(a){return a?b.extend({},k.documentUrl):k.documentUrl.href},k.getDocumentBase=function(a){return a?b.extend({},k.documentBase):k.documentBase.href}}(f),function(d,c){d.mobile.path,d.mobile.History=function(j,i){this.stack=j||[],this.activeIndex=i||0},d.extend(d.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(j,i){i=i||{},this.getNext()&&this.clearForward(),i.hash&&-1===i.hash.indexOf("#")&&(i.hash="#"+i.hash),i.url=j,this.stack.push(i),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(j,i,o){i=i||this.stack;var n,m,l,k=i.length;for(m=0;k>m;m++){if(n=i[m],(decodeURIComponent(j)===decodeURIComponent(n.url)||decodeURIComponent(j)===decodeURIComponent(n.hash))&&(l=m,o)){return l}}return l},closest:function(b){var j,i=this.activeIndex;return j=this.find(b,this.stack.slice(0,i)),j===c&&(j=this.find(b,this.stack.slice(i),!0),j=j===c?j:j+i),j},direct:function(i){var b=this.closest(i.url),a=this.activeIndex;b!==c&&(this.activeIndex=b,this.previousIndex=a),a>b?(i.present||i.back||d.noop)(this.getActive(),"back"):b>a?(i.present||i.forward||d.noop)(this.getActive(),"forward"):b===c&&i.missing&&i.missing(this.getActive())}})}(f),function(b){var i=b.mobile.path,c=location.href;b.mobile.Navigator=function(a){this.history=a,this.ignoreInitialHashChange=!0,b.mobile.window.bind({"popstate.history":b.proxy(this.popstate,this),"hashchange.history":b.proxy(this.hashchange,this)})},b.extend(b.mobile.Navigator.prototype,{squash:function(l,k){var j,d,a=i.isPath(l)?i.stripHash(l):l;return d=i.squash(l),j=b.extend({hash:a,url:d},k),e.history.replaceState(j,j.title||h.title,d),j},hash:function(j,d){var n,m,l;if(n=i.parseUrl(j),m=i.parseLocation(),m.pathname+m.search===n.pathname+n.search){l=n.hash?n.hash:n.pathname+n.search}else{if(i.isPath(j)){var k=i.parseUrl(d);l=k.pathname+k.search+(i.isPreservableHash(k.hash)?k.hash.replace("#",""):"")}else{l=j}}return l},go:function(r,q,p){var o,n,m,d,a=b.event.special.navigate.isPushStateEnabled();n=i.squash(r),m=this.hash(r,n),p&&m!==i.stripHash(i.parseLocation().hash)&&(this.preventNextHashChange=p),this.preventHashAssignPopState=!0,e.location.hash=m,this.preventHashAssignPopState=!1,o=b.extend({url:n,hash:m,title:h.title},q),a&&(d=new b.Event("popstate"),d.originalEvent={type:"popstate",state:null},this.squash(r,o),p||(this.ignorePopState=!0,b.mobile.window.trigger(d))),this.history.add(o.url,o)},popstate:function(a){var j,d;if(b.event.special.navigate.isPushStateEnabled()){return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,a.stopImmediatePropagation(),void 0):this.ignorePopState?(this.ignorePopState=!1,void 0):!a.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===c)?(a.preventDefault(),void 0):(j=i.parseLocation().hash,!a.originalEvent.state&&j?(d=this.squash(j),this.history.add(d.url,d),a.historyState=d,void 0):(this.history.direct({url:(a.originalEvent.state||{}).url||j,present:function(l,k){a.historyState=b.extend({},l),a.historyState.direction=k}}),void 0))}},hashchange:function(a){var j,d;if(b.event.special.navigate.isHashChangeEnabled()&&!b.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange){return this.preventNextHashChange=!1,a.stopImmediatePropagation(),void 0}j=this.history,d=i.parseLocation().hash,this.history.direct({url:d,present:function(l,k){a.hashchangeState=b.extend({},l),a.hashchangeState.direction=k},missing:function(){j.add(d,{hash:d,title:h.title})}})}}})}(f),function(d){d.mobile.navigate=function(a,j,i){d.mobile.navigate.navigator.go(a,j,i)},d.mobile.navigate.history=new d.mobile.History,d.mobile.navigate.navigator=new d.mobile.Navigator(d.mobile.navigate.history);var c=d.mobile.path.parseLocation();d.mobile.navigate.history.add(c.href,{hash:c.hash})}(f),function(aI,aH,aG,aF){function aE(b){for(;b&&"undefined"!=typeof b.originalEvent;){b=b.originalEvent}return b}function aD(y,x){var w,v,u,t,s,r,q,p,d,a=y.type;if(y=aI.Event(y),y.type=x,w=y.originalEvent,v=aI.event.props,a.search(/^(mouse|click)/)>-1&&(v=ae),w){for(q=v.length,t;q;){t=v[--q],y[t]=w[t]}}if(a.search(/mouse(down|up)|click/)>-1&&!y.which&&(y.which=1),-1!==a.search(/^touch/)&&(u=aE(w),a=u.touches,s=u.changedTouches,r=a&&a.length?a[0]:s&&s.length?s[0]:aF)){for(p=0,d=ag.length;d>p;p++){t=ag[p],y[t]=r[t]}}return y}function aC(a){for(var k,j,i={};a;){k=aI.data(a,aj);for(j in k){k[j]&&(i[j]=i.hasVirtualBinding=!0)}a=a.parentNode}return i}function aB(a,j){for(var i;a;){if(i=aI.data(a,aj),i&&(!j||i[j])){return a}a=a.parentNode}return null}function aA(){W=!1}function az(){W=!0}function ay(){S=0,Y.length=0,X=!1,az()}function ax(){aA()}function aw(){av(),ac=setTimeout(function(){ac=0,ay()},aI.vmouse.resetTimerDuration)}function av(){ac&&(clearTimeout(ac),ac=0)}function au(a,k,j){var i;return(j&&j[a]||!j&&aB(k.target,a))&&(i=aD(k,a),aI(k.target).trigger(i)),i}function at(a){var j=aI.data(a.target,ai);if(!(X||S&&S===j)){var i=au("v"+a.type,a);i&&(i.isDefaultPrevented()&&a.preventDefault(),i.isPropagationStopped()&&a.stopPropagation(),i.isImmediatePropagationStopped()&&a.stopImmediatePropagation())}}function ar(a){var l,k,j=aE(a).touches;if(j&&1===j.length&&(l=a.target,k=aC(l),k.hasVirtualBinding)){S=T++,aI.data(l,ai,S),av(),ax(),Z=!1;var i=aE(a).touches[0];ab=i.pageX,aa=i.pageY,au("vmouseover",a,k),au("vmousedown",a,k)}}function aq(b){W||(Z||au("vmousecancel",b,aC(b.target)),Z=!0,aw())}function ap(a){if(!W){var l=aE(a).touches[0],k=Z,j=aI.vmouse.moveDistanceThreshold,i=aC(a.target);Z=Z||Math.abs(l.pageX-ab)>j||Math.abs(l.pageY-aa)>j,Z&&!k&&au("vmousecancel",a,i),au("vmousemove",a,i),aw()}}function ao(j){if(!W){az();var i,l=aC(j.target);if(au("vmouseup",j,l),!Z){var k=au("vclick",j,l);k&&k.isDefaultPrevented()&&(i=aE(j).changedTouches[0],Y.push({touchID:S,x:i.clientX,y:i.clientY}),X=!0)}au("vmouseout",j,l),Z=!1,aw()}}function an(a){var j,i=aI.data(a,aj);if(i){for(j in i){if(i[j]){return !0}}}return !1}function am(){}function al(a){var d=a.substr(1);return{setup:function(){an(this)||aI.data(this,aj,{});var b=aI.data(this,aj);b[a]=!0,ad[a]=(ad[a]||0)+1,1===ad[a]&&U.bind(d,at),aI(this).bind(d,am),V&&(ad.touchstart=(ad.touchstart||0)+1,1===ad.touchstart&&U.bind("touchstart",ar).bind("touchend",ao).bind("touchmove",ap).bind("scroll",aq))},teardown:function(){--ad[a],ad[a]||U.unbind(d,at),V&&(--ad.touchstart,ad.touchstart||U.unbind("touchstart",ar).unbind("touchmove",ap).unbind("touchend",ao).unbind("scroll",aq));var c=aI(this),b=aI.data(this,aj);b&&(b[a]=!1),c.unbind(d,am),an(this)||c.removeData(aj)}}}var ak,aj="virtualMouseBindings",ai="virtualTouchID",ah="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),ag="clientX clientY pageX pageY screenX screenY".split(" "),af=aI.event.mouseHooks?aI.event.mouseHooks.props:[],ae=aI.event.props.concat(af),ad={},ac=0,ab=0,aa=0,Z=!1,Y=[],X=!1,W=!1,V="addEventListener" in aG,U=aI(aG),T=1,S=0;aI.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var R=0;R<ah.length;R++){aI.event.special[ah[R]]=al(ah[R])}V&&aG.addEventListener("click",function(r){var q,p,o,n,m,l,k=Y.length,a=r.target;if(k){for(q=r.clientX,p=r.clientY,ak=aI.vmouse.clickDistanceThreshold,o=a;o;){for(n=0;k>n;n++){if(m=Y[n],l=0,o===a&&Math.abs(m.x-q)<ak&&Math.abs(m.y-p)<ak||aI.data(o,ai)===m.touchID){return r.preventDefault(),r.stopPropagation(),void 0}}o=o.parentNode}}},!0)}(f,e,h),function(t,s,r){function q(a,k,j){var i=j.type;j.type=k,t.event.dispatch.call(a,j),j.type=i}var p=t(h);t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(a,d){t.fn[d]=function(b){return b?this.bind(d,b):this.trigger(d)},t.attrFn&&(t.attrFn[d]=!0)});var o=t.mobile.support.touch,n="touchmove scroll",m=o?"touchstart":"mousedown",l=o?"touchend":"mouseup",c=o?"touchmove":"mousemove";t.event.special.scrollstart={enabled:!0,setup:function(){function a(v,d){u=d,q(j,u?"scrollstart":"scrollstop",v)}var u,k,j=this,i=t(j);i.bind(n,function(b){t.event.special.scrollstart.enabled&&(u||a(b,!0),clearTimeout(k),k=setTimeout(function(){a(b,!1)},50))})}},t.event.special.tap={tapholdThreshold:750,setup:function(){var a=this,d=t(a);d.bind("vmousedown",function(y){function x(){clearTimeout(u)}function w(){x(),d.unbind("vclick",v).unbind("vmouseup",x),p.unbind("vmousecancel",w)}function v(i){w(),b===i.target&&q(a,"tap",i)}if(y.which&&1!==y.which){return !1}var u,b=y.target;y.originalEvent,d.bind("vmouseup",x).bind("vclick",v),p.bind("vmousecancel",w),u=setTimeout(function(){q(a,"taphold",t.Event("taphold",{target:b}))},t.event.special.tap.tapholdThreshold)})}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(a){var d=a.originalEvent.touches?a.originalEvent.touches[0]:a;return{time:(new Date).getTime(),coords:[d.pageX,d.pageY],origin:t(a.target)}},stop:function(i){var d=i.originalEvent.touches?i.originalEvent.touches[0]:i;return{time:(new Date).getTime(),coords:[d.pageX,d.pageY]}},handleSwipe:function(a,d){d.time-a.time<t.event.special.swipe.durationThreshold&&Math.abs(a.coords[0]-d.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(a.coords[1]-d.coords[1])<t.event.special.swipe.verticalDistanceThreshold&&a.origin.trigger("swipe").trigger(a.coords[0]>d.coords[0]?"swipeleft":"swiperight")},setup:function(){var a=this,d=t(a);d.bind(m,function(i){function u(v){j&&(k=t.event.special.swipe.stop(v),Math.abs(j.coords[0]-k.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&v.preventDefault())}var k,j=t.event.special.swipe.start(i);d.bind(c,u).one(l,function(){d.unbind(c,u),j&&k&&t.event.special.swipe.handleSwipe(j,k),j=k=r})})}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(a,d){t.event.special[a]={setup:function(){t(this).bind(d,t.noop)}}})}(f,this),function(j){j.event.special.throttledresize={setup:function(){j(this).bind("resize",l)},teardown:function(){j(this).unbind("resize",l)}};var i,o,n,m=250,l=function(){o=(new Date).getTime(),n=o-k,n>=m?(k=o,j(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(l,m-n))},k=0}(f),function(z,y){function x(){var b=w();b!==v&&(v=b,s.trigger(r))}var w,v,u,t,s=z(y),r="orientationchange",q={0:!0,180:!0};if(z.support.orientation){var p=y.innerWidth||s.width(),o=y.innerHeight||s.height(),c=50;u=p>o&&p-o>c,t=q[y.orientation],(u&&t||!u&&!t)&&(q={"-90":!0,90:!0})}z.event.special.orientationchange=z.extend({},z.event.special.orientationchange,{setup:function(){return z.support.orientation&&!z.event.special.orientationchange.disabled?!1:(v=w(),s.bind("throttledresize",x),void 0)},teardown:function(){return z.support.orientation&&!z.event.special.orientationchange.disabled?!1:(s.unbind("throttledresize",x),void 0)},add:function(i){var d=i.handler;i.handler=function(b){return b.orientation=w(),d.apply(this,arguments)}}}),z.event.special.orientationchange.orientation=w=function(){var b=!0,a=h.documentElement;return b=z.support.orientation?q[y.orientation]:a&&a.clientWidth/a.clientHeight<1.1,b?"portrait":"landscape"},z.fn[r]=function(b){return b?this.bind(r,b):this.trigger(r)},z.attrFn&&(z.attrFn[r]=!0)}(f,this),function(b){b.widget("mobile.page",b.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),void 0)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){b.mobile.pageContainer.removeClass("ui-overlay-"+b.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(a){this.options.theme&&b.mobile.pageContainer.addClass("ui-overlay-"+(a||this.options.theme))},keepNativeSelector:function(){var a=this.options,d=a.keepNative&&b.trim(a.keepNative);return d&&a.keepNative!==a.keepNativeDefault?[a.keepNative,a.keepNativeDefault].join(", "):a.keepNativeDefault}})}(f),function(j,i,o){var n=function(a){return a===o&&(a=!0),function(M,L,K,J){var I=new j.Deferred,H=L?" reverse":"",G=j.mobile.urlHistory.getActive(),F=G.lastScroll||j.mobile.defaultHomeScroll,E=j.mobile.getScreenHeight(),D=j.mobile.maxTransitionWidth!==!1&&j.mobile.window.width()>j.mobile.maxTransitionWidth,C=!j.support.cssTransitions||D||!M||"none"===M||Math.max(j.mobile.window.scrollTop(),F)>j.mobile.getMaxScrollForTransition(),B=" ui-page-pre-in",A=function(){j.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+M)},z=function(){j.event.special.scrollstart.enabled=!1,i.scrollTo(0,F),setTimeout(function(){j.event.special.scrollstart.enabled=!0},150)},y=function(){J.removeClass(j.mobile.activePageClass+" out in reverse "+M).height("")},x=function(){a?J.animationComplete(w):w(),J.height(E+j.mobile.window.scrollTop()).addClass(M+" out"+H)},w=function(){J&&a&&y(),d()},d=function(){K.css("z-index",-10),K.addClass(j.mobile.activePageClass+B),j.mobile.focusPage(K),K.height(E+F),z(),K.css("z-index",""),C||K.animationComplete(b),K.removeClass(B).addClass(M+" in"+H),C&&b()},b=function(){a||J&&y(),K.removeClass("out in reverse "+M).height(""),A(),j.mobile.window.scrollTop()!==F&&z(),I.resolve(M,L,K,J,!0)};return A(),J&&!C?x():w(),I.promise()}},m=n(),l=n(!1),k=function(){return 3*j.mobile.getScreenHeight()};j.mobile.defaultTransitionHandler=m,j.mobile.transitionHandlers={"default":j.mobile.defaultTransitionHandler,sequential:m,simultaneous:l},j.mobile.transitionFallbacks={},j.mobile._maybeDegradeTransition=function(a){return a&&!j.support.cssTransform3d&&j.mobile.transitionFallbacks[a]&&(a=j.mobile.transitionFallbacks[a]),a},j.mobile.getMaxScrollForTransition=j.mobile.getMaxScrollForTransition||k}(f,this),function(ab,aa){function Z(a){!O||O.closest("."+ab.mobile.activePageClass).length&&!a||O.removeClass(ab.mobile.activeBtnClass),O=null}function Y(){H=!1,I.length>0&&ab.mobile.changePage.apply(null,I.pop())}function X(a,m,l,k){m&&m.data("mobile-page")._trigger("beforehide",null,{nextPage:a}),a.data("mobile-page")._trigger("beforeshow",null,{prevPage:m||ab("")}),ab.mobile.hidePageLoadingMsg(),l=ab.mobile._maybeDegradeTransition(l);var j=ab.mobile.transitionHandlers[l||"default"]||ab.mobile.defaultTransitionHandler,i=j(l,k,a,m);return i.done(function(){m&&m.data("mobile-page")._trigger("hide",null,{nextPage:a}),a.data("mobile-page")._trigger("show",null,{prevPage:m||ab("")})}),i}function W(a,d){d&&a.attr("data-"+ab.mobile.ns+"role",d),a.page()}function V(){var a=ab.mobile.activePage&&T(ab.mobile.activePage);return a||D.hrefNoHash}function U(d){for(;d&&("string"!=typeof d.nodeName||"a"!==d.nodeName.toLowerCase());){d=d.parentNode}return d}function T(a){var j=ab(a).closest(".ui-page").jqmData("url"),i=D.hrefNoHash;return j&&Q.isPath(j)||(j=i),Q.makeUrlAbsolute(j,i)}var S=ab.mobile.window,R=(ab("html"),ab("head")),Q=ab.extend(ab.mobile.path,{getFilePath:function(a){var d="&"+ab.mobile.subPageUrlKey;return a&&a.split(d)[0].split(G)[0]},isFirstPageUrl:function(a){var k=Q.parseUrl(Q.makeUrlAbsolute(a,this.documentBase)),j=k.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&k.hrefNoHash===this.documentBase.hrefNoHash,i=ab.mobile.firstPage,d=i&&i[0]?i[0].id:aa;return j&&(!k.hash||"#"===k.hash||d&&k.hash.replace(/^#/,"")===d)},isPermittedCrossDomainRequest:function(a,d){return ab.mobile.allowCrossDomainPages&&"file:"===a.protocol&&-1!==d.search(/^https?:/)}}),P=null,O=null,M=ab.Deferred(),K=ab.mobile.navigate.history,I=[],H=!1,G="&ui-state=dialog",F=R.children("base"),E=Q.documentUrl,D=Q.documentBase,c=(Q.documentBaseDiffers,ab.mobile.getScreenHeight),b=ab.support.dynamicBaseTag?{element:F.length?F:ab("<base>",{href:D.hrefNoHash}).prependTo(R),set:function(d){d=Q.parseUrl(d).hrefNoHash,b.element.attr("href",Q.makeUrlAbsolute(d,D))},reset:function(){b.element.attr("href",D.hrefNoSearch)}}:aa;ab.mobile.getDocumentUrl=Q.getDocumentUrl,ab.mobile.getDocumentBase=Q.getDocumentBase,ab.mobile.back=function(){var d=e.navigator;this.phonegapNavigationEnabled&&d&&d.app&&d.app.backHistory?d.app.backHistory():e.history.back()},ab.mobile.focusPage=function(i){var d=i.find("[autofocus]"),j=i.find(".ui-title:eq(0)");return d.length?(d.focus(),void 0):(j.length?j.focus():i.focus(),void 0)};var N,L,J=!0;N=function(){if(J){var a=ab.mobile.urlHistory.getActive();if(a){var d=S.scrollTop();a.lastScroll=d<ab.mobile.minScrollBack?ab.mobile.defaultHomeScroll:d}}},L=function(){setTimeout(N,100)},S.bind(ab.support.pushState?"popstate":"hashchange",function(){J=!1}),S.one(ab.support.pushState?"popstate":"hashchange",function(){J=!0}),S.one("pagecontainercreate",function(){ab.mobile.pageContainer.bind("pagechange",function(){J=!0,S.unbind("scrollstop",L),S.bind("scrollstop",L)})}),S.bind("scrollstop",L),ab.mobile._maybeDegradeTransition=ab.mobile._maybeDegradeTransition||function(d){return d},ab.mobile.resetActivePageHeight=function(a){var m=ab("."+ab.mobile.activePageClass),l=parseFloat(m.css("padding-top")),k=parseFloat(m.css("padding-bottom")),j=parseFloat(m.css("border-top-width")),i=parseFloat(m.css("border-bottom-width"));a="number"==typeof a?a:c(),m.css("min-height",a-l-k-j-i)},ab.fn.animationComplete=function(a){return ab.support.cssTransitions?ab(this).one("webkitAnimationEnd animationend",a):(setTimeout(a,0),ab(this))},ab.mobile.path=Q,ab.mobile.base=b,ab.mobile.urlHistory=K,ab.mobile.dialogHashKey=G,ab.mobile.allowCrossDomainPages=!1,ab.mobile._bindPageRemove=function(){var a=ab(this);!a.data("mobile-page").options.domCache&&a.is(":jqmData(external-page='true')")&&a.bind("pagehide.remove",function(){var d=ab(this),i=new ab.Event("pageremove");d.trigger(i),i.isDefaultPrevented()||d.removeWithDependents()})},ab.mobile.loadPage=function(B,A){var z=ab.Deferred(),y=ab.extend({},ab.mobile.loadPage.defaults,A),x=null,w=null,v=Q.makeUrlAbsolute(B,V());y.data&&"get"===y.type&&(v=Q.addSearchParams(v,y.data),y.data=aa),y.data&&"post"===y.type&&(y.reloadPage=!0);var u=Q.getFilePath(v),t=Q.convertUrlToDataUrl(v);if(y.pageContainer=y.pageContainer||ab.mobile.pageContainer,x=y.pageContainer.children("[data-"+ab.mobile.ns+"url='"+t+"']"),0===x.length&&t&&!Q.isPath(t)&&(x=y.pageContainer.children("#"+t).attr("data-"+ab.mobile.ns+"url",t).jqmData("url",t)),0===x.length){if(ab.mobile.firstPage&&Q.isFirstPageUrl(u)){ab.mobile.firstPage.parent().length&&(x=ab(ab.mobile.firstPage))}else{if(Q.isEmbeddedPage(u)){return z.reject(v,A),z.promise()}}}if(x.length){if(!y.reloadPage){return W(x,y.role),z.resolve(v,A,x),b&&!A.prefetch&&b.set(B),z.promise()}w=x}var n=y.pageContainer,i=new ab.Event("pagebeforeload"),d={url:B,absUrl:v,dataUrl:t,deferred:z,options:y};if(n.trigger(i,d),i.isDefaultPrevented()){return z.promise()}if(y.showLoadMsg){var a=setTimeout(function(){ab.mobile.showPageLoadingMsg()},y.loadMsgDelay),C=function(){clearTimeout(a),ab.mobile.hidePageLoadingMsg()}}return !b||"undefined"!=typeof A&&"undefined"!=typeof A.prefetch||b.reset(),ab.mobile.allowCrossDomainPages||Q.isSameDomain(E,v)?ab.ajax({url:u,type:y.type,data:y.data,contentType:y.contentType,dataType:"html",success:function(ad,m,ac){var s=ab("<div></div>"),q=ad.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,l=new RegExp("(<[^>]+\\bdata-"+ab.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),k=new RegExp("\\bdata-"+ab.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(l.test(ad)&&RegExp.$1&&k.test(RegExp.$1)&&RegExp.$1&&(B=u=Q.getFilePath(ab("<div>"+RegExp.$1+"</div>").text())),!b||"undefined"!=typeof A&&"undefined"!=typeof A.prefetch||b.set(u),s.get(0).innerHTML=ad,x=s.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),x.length||(x=ab("<div data-"+ab.mobile.ns+"role='page'>"+(ad.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),q&&!x.jqmData("title")&&(~q.indexOf("&")&&(q=ab("<div>"+q+"</div>").text()),x.jqmData("title",q)),!ab.support.dynamicBaseTag){var j=Q.get(u);x.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var o=ab(this).is("[href]")?"href":ab(this).is("[src]")?"src":"action",p=ab(this).attr(o);p=p.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(p)||ab(this).attr(o,j+p)})}x.attr("data-"+ab.mobile.ns+"url",Q.convertUrlToDataUrl(u)).attr("data-"+ab.mobile.ns+"external-page",!0).appendTo(y.pageContainer),x.one("pagecreate",ab.mobile._bindPageRemove),W(x,y.role),v.indexOf("&"+ab.mobile.subPageUrlKey)>-1&&(x=y.pageContainer.children("[data-"+ab.mobile.ns+"url='"+t+"']")),y.showLoadMsg&&C(),d.xhr=ac,d.textStatus=m,d.page=x,y.pageContainer.trigger("pageload",d),z.resolve(v,A,x,w)},error:function(j,m,l){b&&b.set(Q.get()),d.xhr=j,d.textStatus=m,d.errorThrown=l;var k=new ab.Event("pageloadfailed");y.pageContainer.trigger(k,d),k.isDefaultPrevented()||(y.showLoadMsg&&(C(),ab.mobile.showPageLoadingMsg(ab.mobile.pageLoadErrorMessageTheme,ab.mobile.pageLoadErrorMessage,!0),setTimeout(ab.mobile.hidePageLoadingMsg,1500)),z.reject(v,A))}}):z.reject(v,A),z.promise()},ab.mobile.loadPage.defaults={type:"get",data:aa,reloadPage:!1,role:aa,showLoadMsg:!1,pageContainer:aa,loadMsgDelay:50},ab.mobile.changePage=function(al,ak){if(H){return I.unshift(arguments),void 0}var aj,ai=ab.extend({},ab.mobile.changePage.defaults,ak);ai.pageContainer=ai.pageContainer||ab.mobile.pageContainer,ai.fromPage=ai.fromPage||ab.mobile.activePage,aj="string"==typeof al;var ah=ai.pageContainer,ag=new ab.Event("pagebeforechange"),af={toPage:al,options:ai};if(af.absUrl=aj?Q.makeUrlAbsolute(al,V()):al.data("absUrl"),ah.trigger(ag,af),!ag.isDefaultPrevented()){if(al=af.toPage,aj="string"==typeof al,H=!0,aj){return ai.target=al,ab.mobile.loadPage(al,ai).done(function(j,m,l,k){H=!1,m.duplicateCachedPage=k,l.data("absUrl",af.absUrl),ab.mobile.changePage(l,m)}).fail(function(){Z(!0),Y(),ai.pageContainer.trigger("pagechangefailed",af)}),void 0}al[0]!==ab.mobile.firstPage[0]||ai.dataUrl||(ai.dataUrl=E.hrefNoHash);var ad=ai.fromPage,r=ai.dataUrl&&Q.convertUrlToDataUrl(ai.dataUrl)||al.jqmData("url"),i=r,d=(Q.getFilePath(r),K.getActive()),a=0===K.activeIndex,ae=0,ac=h.title,w="dialog"===ai.role||"dialog"===al.jqmData("role");if(ad&&ad[0]===al[0]&&!ai.allowSamePageTransition){return H=!1,ah.trigger("pagechange",af),ai.fromHashChange&&K.direct({url:r}),void 0}W(al,ai.role),ai.fromHashChange&&(ae="back"===ak.direction?-1:1);try{h.activeElement&&"body"!==h.activeElement.nodeName.toLowerCase()?ab(h.activeElement).blur():ab("input:focus, textarea:focus, select:focus").blur()}catch(u){}var t=!1;w&&d&&(d.url&&d.url.indexOf(G)>-1&&ab.mobile.activePage&&!ab.mobile.activePage.is(".ui-dialog")&&K.activeIndex>0&&(ai.changeHash=!1,t=!0),r=d.url||"",r+=!t&&r.indexOf("#")>-1?G:"#"+G,0===K.activeIndex&&r===K.initialDst&&(r+=G));var s=d?al.jqmData("title")||al.children(":jqmData(role='header')").find(".ui-title").text():ac;if(s&&ac===h.title&&(ac=s),al.jqmData("title")||al.jqmData("title",ac),ai.transition=ai.transition||(ae&&!a?d.transition:aa)||(w?ab.mobile.defaultDialogTransition:ab.mobile.defaultPageTransition),!ae&&t&&(K.getActive().pageUrl=i),r&&!ai.fromHashChange){var n;!Q.isPath(r)&&r.indexOf("#")<0&&(r="#"+r),n={transition:ai.transition,title:ac,pageUrl:i,role:ai.role},ai.changeHash!==!1&&ab.mobile.hashListeningEnabled?ab.mobile.navigate(r,n,!0):al[0]!==ab.mobile.firstPage[0]&&ab.mobile.navigate.history.add(r,n)}h.title=ac,ab.mobile.activePage=al,ai.reverse=ai.reverse||0>ae,X(al,ad,ai.transition,ai.reverse).done(function(o,m,l,k,j){Z(),ai.duplicateCachedPage&&ai.duplicateCachedPage.remove(),j||ab.mobile.focusPage(al),Y(),ah.trigger("pagechange",af)})}},ab.mobile.changePage.defaults={transition:aa,reverse:!1,changeHash:!0,fromHashChange:!1,role:aa,duplicateCachedPage:aa,pageContainer:aa,showLoadMsg:!0,dataUrl:aa,fromPage:aa,allowSamePageTransition:!1},ab.mobile.navreadyDeferred=ab.Deferred(),ab.mobile._registerInternalEvents=function(){var a=function(i,o){var n,m,l,k,j=!0;return !ab.mobile.ajaxEnabled||i.is(":jqmData(ajax='false')")||!i.jqmHijackable().length||i.attr("target")?!1:(n=i.attr("action"),k=(i.attr("method")||"get").toLowerCase(),n||(n=T(i),"get"===k&&(n=Q.parseUrl(n).hrefNoSearch),n===D.hrefNoHash&&(n=E.hrefNoSearch)),n=Q.makeUrlAbsolute(n,T(i)),Q.isExternal(n)&&!Q.isPermittedCrossDomainRequest(E,n)?!1:(o||(m=i.serializeArray(),P&&P[0].form===i[0]&&(l=P.attr("name"),l&&(ab.each(m,function(p,d){return d.name===l?(l="",!1):void 0}),l&&m.push({name:l,value:P.attr("value")}))),j={url:n,options:{type:k,data:ab.param(m),transition:i.jqmData("transition"),reverse:"reverse"===i.jqmData("direction"),reloadPage:!0}}),j))};ab.mobile.document.delegate("form","submit",function(i){var j=a(ab(this));j&&(ab.mobile.changePage(j.url,j.options),i.preventDefault())}),ab.mobile.document.bind("vclick",function(i){var m,l,k=i.target,j=!1;if(!(i.which>1)&&ab.mobile.linkBindingEnabled){if(P=ab(k),ab.data(k,"mobile-button")){if(!a(ab(k).closest("form"),!0)){return}k.parentNode&&(k=k.parentNode)}else{if(k=U(k),!k||"#"===Q.parseUrl(k.getAttribute("href")||"#").hash){return}if(!ab(k).jqmHijackable().length){return}}~k.className.indexOf("ui-link-inherit")?k.parentNode&&(l=ab.data(k.parentNode,"buttonElements")):l=ab.data(k,"buttonElements"),l?k=l.outer:j=!0,m=ab(k),j&&(m=m.closest(".ui-btn")),m.length>0&&!m.hasClass("ui-disabled")&&(Z(!0),O=m,O.addClass(ab.mobile.activeBtnClass))}}),ab.mobile.document.bind("click",function(y){if(ab.mobile.linkBindingEnabled&&!y.isDefaultPrevented()){var x,w=U(y.target),v=ab(w);if(w&&!(y.which>1)&&v.jqmHijackable().length){if(x=function(){e.setTimeout(function(){Z(!0)},200)},v.is(":jqmData(rel='back')")){return ab.mobile.back(),!1}var u=T(v),t=Q.makeUrlAbsolute(v.attr("href")||"#",u);if(!ab.mobile.ajaxEnabled&&!Q.isEmbeddedPage(t)){return x(),void 0}if(-1!==t.search("#")){if(t=t.replace(/[^#]*#/,""),!t){return y.preventDefault(),void 0}t=Q.isPath(t)?Q.makeUrlAbsolute(t,u):Q.makeUrlAbsolute("#"+t,E.hrefNoHash)}var s=v.is("[rel='external']")||v.is(":jqmData(ajax='false')")||v.is("[target]"),n=s||Q.isExternal(t)&&!Q.isPermittedCrossDomainRequest(E,t);if(n){return x(),void 0}var k=v.jqmData("transition"),j="reverse"===v.jqmData("direction")||v.jqmData("back"),d=v.attr("data-"+ab.mobile.ns+"rel")||aa;ab.mobile.changePage(t,{transition:k,reverse:j,role:d,link:v}),y.preventDefault()}}}),ab.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var d=[];ab(this).find("a:jqmData(prefetch)").each(function(){var j=ab(this),i=j.attr("href");i&&-1===ab.inArray(i,d)&&(d.push(i),ab.mobile.loadPage(i,{role:j.attr("data-"+ab.mobile.ns+"rel"),prefetch:!0}))})}),ab.mobile._handleHashChange=function(n,m){var l=Q.stripHash(n),k=0===ab.mobile.urlHistory.stack.length?"none":aa,j={changeHash:!1,fromHashChange:!0,reverse:"back"===m.direction};if(ab.extend(j,m,{transition:(K.getLast()||{}).transition||k}),K.activeIndex>0&&l.indexOf(G)>-1&&K.initialDst!==l){if(ab.mobile.activePage&&!ab.mobile.activePage.is(".ui-dialog")){return"back"===m.direction?ab.mobile.back():e.history.forward(),void 0}l=m.pageUrl;var d=ab.mobile.urlHistory.getActive();ab.extend(j,{role:d.role,transition:d.transition,reverse:"back"===m.direction})}l?(l=Q.isPath(l)?l:Q.makeUrlAbsolute("#"+l,D),l===Q.makeUrlAbsolute("#"+K.initialDst,D)&&K.stack.length&&K.stack[0].url!==K.initialDst.replace(G,"")&&(l=ab.mobile.firstPage),ab.mobile.changePage(l,j)):ab.mobile.changePage(ab.mobile.firstPage,j)},S.bind("navigate",function(i,k){var j;i.originalEvent&&i.originalEvent.isDefaultPrevented()||(j=ab.event.special.navigate.originalEventName.indexOf("hashchange")>-1?k.state.hash:k.state.url,j||(j=ab.mobile.path.parseLocation().hash),j&&"#"!==j&&0!==j.indexOf("#"+ab.mobile.path.uiStateKey)||(j=location.href),ab.mobile._handleHashChange(j,k.state))}),ab.mobile.document.bind("pageshow",ab.mobile.resetActivePageHeight),ab.mobile.window.bind("throttledresize",ab.mobile.resetActivePageHeight)},ab(function(){M.resolve()}),ab.when(M,ab.mobile.navreadyDeferred).done(function(){ab.mobile._registerInternalEvents()})}(f),function(b){b.mobile.transitionFallbacks.flip="fade"}(f,this),function(b){b.mobile.transitionFallbacks.flow="fade"}(f,this),function(b){b.mobile.transitionFallbacks.pop="fade"}(f,this),function(b){b.mobile.transitionHandlers.slide=b.mobile.transitionHandlers.simultaneous,b.mobile.transitionFallbacks.slide="fade"}(f,this),function(b){b.mobile.transitionFallbacks.slidedown="fade"}(f,this),function(b){b.mobile.transitionFallbacks.slidefade="fade"}(f,this),function(b){b.mobile.transitionFallbacks.slideup="fade"}(f,this),function(b){b.mobile.transitionFallbacks.turn="fade"}(f,this),function(b){b.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},b.mobile.document.bind("pagecreate create",function(a){var j,i=b.mobile.closestPageData(b(a.target));i&&(j=i.options,b(a.target).find("input").not(i.keepNativeSelector()).each(function(){var c=b(this),p=this.getAttribute("type"),o=j.degradeInputs[p]||"text";if(j.degradeInputs[p]){var n=b("<div>").html(c.clone()).html(),m=n.indexOf(" type=")>-1,l=m?/\s+type=["']?\w+['"]?/:/\/?>/,k=' type="'+o+'" data-'+b.mobile.ns+'type="'+p+'"'+(m?"":">");c.replaceWith(n.replace(l,k))}}))})}(f),function(b){b.widget("mobile.dialog",b.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_create:function(){var a=this.element,j=this.options.corners?" ui-corner-all":"",i=b("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+j});a.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),a.wrapInner(i),a.bind("vclick submit",function(k){var m,l=b(k.target).closest("vclick"===k.type?"a":"form");l.length&&!l.jqmData("transition")&&(m=b.mobile.urlHistory.getActive()||{},l.attr("data-"+b.mobile.ns+"transition",m.transition||b.mobile.defaultDialogTransition).attr("data-"+b.mobile.ns+"direction","reverse"))}),this._on(a,{pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),b.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(a){var k,j,i=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==a&&(j="left"===a?"left":"right",k=b("<a href='#' class='ui-btn-"+j+"' data-"+b.mobile.ns+"icon='delete' data-"+b.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(k),this._createComplete&&b.fn.buttonMarkup&&k.buttonMarkup(),this._createComplete=!0,k.bind("click",function(){i.close()}),this._headerCloseButton=k)},_setOption:function(d,c){"closeBtn"===d&&this._setCloseBtn(c),this._super(d,c)},close:function(){var a,j,i=b.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,b.mobile.hashListeningEnabled&&i.activeIndex>0?b.mobile.back():(a=Math.max(0,i.activeIndex-1),j=i.stack[a].pageUrl||i.stack[a].url,i.previousIndex=i.activeIndex,i.activeIndex=a,b.mobile.path.isPath(j)||(j=b.mobile.path.makeUrlAbsolute("#"+j)),b.mobile.changePage(j,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),b.mobile.document.delegate(b.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){b.mobile.dialog.prototype.enhance(this)})}(f,this),function(b){b.mobile.page.prototype.options.backBtnText="Back",b.mobile.page.prototype.options.addBackBtn=!1,b.mobile.page.prototype.options.backBtnTheme=null,b.mobile.page.prototype.options.headerTheme="a",b.mobile.page.prototype.options.footerTheme="a",b.mobile.page.prototype.options.contentTheme=null,b.mobile.document.bind("pagecreate",function(a){var l=b(a.target),k=l.data("mobile-page").options,j=l.jqmData("role"),i=k.theme;b(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",l).jqmEnhanceable().each(function(){var u,t,s,r,q=b(this),p=q.jqmData("role"),o=q.jqmData("theme"),d=o||k.contentTheme||"dialog"===j&&i;if(q.addClass("ui-"+p),"header"===p||"footer"===p){var c=o||("header"===p?k.headerTheme:k.footerTheme)||i;q.addClass("ui-bar-"+c).attr("role","header"===p?"banner":"contentinfo"),"header"===p&&(u=q.children("a, button"),t=u.hasClass("ui-btn-left"),s=u.hasClass("ui-btn-right"),t=t||u.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,s=s||u.eq(1).addClass("ui-btn-right").length),k.addBackBtn&&"header"===p&&b(".ui-page").length>1&&l.jqmData("url")!==b.mobile.path.stripHash(location.hash)&&!t&&(r=b("<a href='javascript:void(0);' class='ui-btn-left' data-"+b.mobile.ns+"rel='back' data-"+b.mobile.ns+"icon='arrow-l'>"+k.backBtnText+"</a>").attr("data-"+b.mobile.ns+"theme",k.backBtnTheme||c).prependTo(q)),q.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else{"content"===p&&(d&&q.addClass("ui-body-"+d),q.attr("role","main"))}})})}(f),function(i,c){function m(n){for(var d;n&&(d="string"==typeof n.className&&n.className+" ",!(d&&d.indexOf("ui-btn ")>-1&&d.indexOf("ui-disabled ")<0));){n=n.parentNode}return n}function l(q,p,o,n,b){var a=i.data(q[0],"buttonElements");q.removeClass(p).addClass(o),a&&(a.bcls=i(h.createElement("div")).addClass(a.bcls+" "+o).removeClass(p).attr("class"),n!==c&&(a.hover=n),a.state=b)}var k=function(b,o){var n=b.getAttribute(o);return"true"===n?!0:"false"===n?!1:null===n?c:n};i.fn.buttonMarkup=function(M){var L,K=this,J="data-"+i.mobile.ns;M=M&&"object"===i.type(M)?M:{};for(var I=0;I<K.length;I++){var H,G,F,E,D,C,B=K.eq(I),A=B[0],z=i.extend({},i.fn.buttonMarkup.defaults,{icon:M.icon!==c?M.icon:k(A,J+"icon"),iconpos:M.iconpos!==c?M.iconpos:k(A,J+"iconpos"),theme:M.theme!==c?M.theme:k(A,J+"theme")||i.mobile.getInheritedTheme(B,"c"),inline:M.inline!==c?M.inline:k(A,J+"inline"),shadow:M.shadow!==c?M.shadow:k(A,J+"shadow"),corners:M.corners!==c?M.corners:k(A,J+"corners"),iconshadow:M.iconshadow!==c?M.iconshadow:k(A,J+"iconshadow"),mini:M.mini!==c?M.mini:k(A,J+"mini")},M),y="ui-btn-inner",x="ui-btn-text",b=!1,a="up";for(L in z){z[L]===c||null===z[L]?B.removeAttr(J+L):A.setAttribute(J+L,z[L])}for(C=i.data("INPUT"===A.tagName||"BUTTON"===A.tagName?A.parentNode:A,"buttonElements"),C?(A=C.outer,B=i(A),F=C.inner,E=C.text,i(C.icon).remove(),C.icon=null,b=C.hover,a=C.state):(F=h.createElement(z.wrapperEls),E=h.createElement(z.wrapperEls)),D=z.icon?h.createElement("span"):null,j&&!C&&j(),z.theme||(z.theme=i.mobile.getInheritedTheme(B,"c")),H="ui-btn ",H+=b?"ui-btn-hover-"+z.theme:"",H+=a?" ui-btn-"+a+"-"+z.theme:"",H+=z.shadow?" ui-shadow":"",H+=z.corners?" ui-btn-corner-all":"",z.mini!==c&&(H+=z.mini===!0?" ui-mini":" ui-fullsize"),z.inline!==c&&(H+=z.inline===!0?" ui-btn-inline":" ui-btn-block"),z.icon&&(z.icon="ui-icon-"+z.icon,z.iconpos=z.iconpos||"left",G="ui-icon "+z.icon,z.iconshadow&&(G+=" ui-icon-shadow")),z.iconpos&&(H+=" ui-btn-icon-"+z.iconpos,"notext"!==z.iconpos||B.attr("title")||B.attr("title",B.getEncodedText())),C&&B.removeClass(C.bcls||""),B.removeClass("ui-link").addClass(H),F.className=y,E.className=x,C||F.appendChild(E),D&&(D.className=G,C&&C.icon||(D.innerHTML="&#160;",F.appendChild(D)));A.firstChild&&!C;){E.appendChild(A.firstChild)}C||A.appendChild(F),C={hover:b,state:a,bcls:H,outer:A,inner:F,text:E,icon:D},i.data(A,"buttonElements",C),i.data(F,"buttonElements",C),i.data(E,"buttonElements",C),D&&i.data(D,"buttonElements",C)}return this},i.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var j=function(){var d,b,a=i.mobile.buttonMarkup.hoverDelay;i.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(r){var q,p=i(m(r.target)),o=r.originalEvent&&/^touch/.test(r.originalEvent.type),n=r.type;p.length&&(q=p.attr("data-"+i.mobile.ns+"theme"),"vmousedown"===n?o?d=setTimeout(function(){l(p,"ui-btn-up-"+q,"ui-btn-down-"+q,c,"down")},a):l(p,"ui-btn-up-"+q,"ui-btn-down-"+q,c,"down"):"vmousecancel"===n||"vmouseup"===n?l(p,"ui-btn-down-"+q,"ui-btn-up-"+q,c,"up"):"vmouseover"===n||"focus"===n?o?b=setTimeout(function(){l(p,"ui-btn-up-"+q,"ui-btn-hover-"+q,!0,"")},a):l(p,"ui-btn-up-"+q,"ui-btn-hover-"+q,!0,""):("vmouseout"===n||"blur"===n||"scrollstart"===n)&&(l(p,"ui-btn-hover-"+q+" ui-btn-down-"+q,"ui-btn-up-"+q,!1,"up"),d&&clearTimeout(d),b&&clearTimeout(b)))},"focusin focus":function(n){i(m(n.target)).addClass(i.mobile.focusClass)},"focusout blur":function(n){i(m(n.target)).removeClass(i.mobile.focusClass)}}),j=null};i.mobile.document.bind("pagecreate create",function(a){i(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",a.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(f),function(d,c){d.widget("mobile.collapsible",d.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var n=this.element,m=this.options,l=n.addClass("ui-collapsible"),k=n.children(m.heading).first(),j=l.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),b=n.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),a="";k.is("legend")&&(k=d("<div role='heading'>"+k.html()+"</div>").insertBefore(k),k.next().remove()),b.length?(m.theme||(m.theme=b.jqmData("theme")||d.mobile.getInheritedTheme(b,"c")),m.contentTheme||(m.contentTheme=b.jqmData("content-theme")),m.collapsedIcon=n.jqmData("collapsed-icon")||b.jqmData("collapsed-icon")||m.collapsedIcon,m.expandedIcon=n.jqmData("expanded-icon")||b.jqmData("expanded-icon")||m.expandedIcon,m.iconpos=n.jqmData("iconpos")||b.jqmData("iconpos")||m.iconpos,m.inset=b.jqmData("inset")!==c?b.jqmData("inset"):!0,m.corners=!1,m.mini||(m.mini=b.jqmData("mini"))):m.theme||(m.theme=d.mobile.getInheritedTheme(n,"c")),m.inset&&(a+=" ui-collapsible-inset",m.corners&&(a+=" ui-corner-all")),m.contentTheme&&(a+=" ui-collapsible-themed-content",j.addClass("ui-body-"+m.contentTheme)),""!==a&&l.addClass(a),k.insertBefore(j).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:m.iconpos,icon:m.collapsedIcon,mini:m.mini,theme:m.theme}),l.bind("expand collapse",function(i){if(!i.isDefaultPrevented()){var p=d(this),o="collapse"===i.type;i.preventDefault(),k.toggleClass("ui-collapsible-heading-collapsed",o).find(".ui-collapsible-heading-status").text(o?m.expandCueText:m.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+m.expandedIcon,!o).toggleClass("ui-icon-"+m.collapsedIcon,o||m.expandedIcon===m.collapsedIcon).end().find("a").first().removeClass(d.mobile.activeBtnClass),p.toggleClass("ui-collapsible-collapsed",o),j.toggleClass("ui-collapsible-content-collapsed",o).attr("aria-hidden",o),j.trigger("updatelayout")}}).trigger(m.collapsed?"collapse":"expand"),k.bind("tap",function(){k.find("a").first().addClass(d.mobile.activeBtnClass)}).bind("click",function(o){var i=k.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";l.trigger(i),o.preventDefault(),o.stopPropagation()})}}),d.mobile.document.bind("pagecreate create",function(a){d.mobile.collapsible.prototype.enhanceWithin(a.target)})}(f),function(b){b.mobile.behaviors.addFirstLastClasses={_getVisibles:function(i,d){var j;return d?j=i.not(".ui-screen-hidden"):(j=i.filter(":visible"),0===j.length&&(j=i.not(".ui-screen-hidden"))),j},_addFirstLastClasses:function(i,d,j){i.removeClass("ui-first-child ui-last-child"),d.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),j||this.element.trigger("updatelayout")}}}(f),function(d,c){d.widget("mobile.collapsibleset",d.mobile.widget,d.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var b=this.element.addClass("ui-collapsible-set"),a=this.options;a.theme||(a.theme=d.mobile.getInheritedTheme(b,"c")),a.contentTheme||(a.contentTheme=b.jqmData("content-theme")),a.corners||(a.corners=b.jqmData("corners")),b.jqmData("inset")!==c&&(a.inset=b.jqmData("inset")),a.inset=a.inset!==c?a.inset:!0,a.corners=a.corners!==c?a.corners:!0,a.corners&&a.inset&&b.addClass("ui-corner-all"),b.jqmData("collapsiblebound")||b.jqmData("collapsiblebound",!0).bind("expand",function(i){var j=d(i.target).closest(".ui-collapsible");j.parent().is(":jqmData(role='collapsible-set')")&&j.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var j=this.element,i=j.children(":jqmData(role='collapsible')"),k=i.filter(":jqmData(collapsed='false')");this._refresh("true"),k.trigger("expand")},_refresh:function(a){var i=this.element.children(":jqmData(role='collapsible')");d.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible")),this._addFirstLastClasses(i,this._getVisibles(i,a),a)},refresh:function(){this._refresh(!1)}},d.mobile.behaviors.addFirstLastClasses)),d.mobile.document.bind("pagecreate create",function(a){d.mobile.collapsibleset.prototype.enhanceWithin(a.target)})}(f),function(b){b.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},b(h).bind("pagecreate create",function(a){b(":jqmData(role='fieldcontain')",a.target).jqmEnhanceable().fieldcontain()})}(f),function(b){b.fn.grid=function(a){return this.each(function(){var p,o=b(this),n=b.extend({grid:null},a),m=o.children(),l={solo:1,a:2,b:3,c:4,d:5},k=n.grid;if(!k){if(m.length<=5){for(var j in l){l[j]===m.length&&(k=j)}}else{k="a",o.addClass("ui-grid-duo")}}p=l[k],o.addClass("ui-grid-"+k),m.filter(":nth-child("+p+"n+1)").addClass("ui-block-a"),p>1&&m.filter(":nth-child("+p+"n+2)").addClass("ui-block-b"),p>2&&m.filter(":nth-child("+p+"n+3)").addClass("ui-block-c"),p>3&&m.filter(":nth-child("+p+"n+4)").addClass("ui-block-d"),p>4&&m.filter(":nth-child("+p+"n+5)").addClass("ui-block-e")})}}(f),function(d,c){d.widget("mobile.navbar",d.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var i=this.element,b=i.find("a"),a=b.filter(":jqmData(icon)").length?this.options.iconpos:c;i.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),b.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:a}),i.delegate("a","vclick",function(j){var l=d(j.target).is("a")?d(this):d(this).parent("a");if(!l.is(".ui-disabled, .ui-btn-active")){b.removeClass(d.mobile.activeBtnClass),d(this).addClass(d.mobile.activeBtnClass);var k=d(this);d(h).one("pagehide",function(){k.removeClass(d.mobile.activeBtnClass)})}}),i.closest(".ui-page").bind("pagebeforeshow",function(){b.filter(".ui-state-persist").addClass(d.mobile.activeBtnClass)})}}),d.mobile.document.bind("pagecreate create",function(a){d.mobile.navbar.prototype.enhanceWithin(a.target)})}(f),function(d){var c={};d.widget("mobile.listview",d.mobile.widget,d.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var j=this,i="";i+=j.options.inset?" ui-listview-inset":"",j.options.inset&&(i+=j.options.corners?" ui-corner-all":"",i+=j.options.shadow?" ui-shadow":""),j.element.addClass(function(b,k){return k+" ui-listview"+i}),j.refresh(!0)},_findFirstElementByTagName:function(j,i,m,l){var k={};for(k[m]=k[l]=!0;j;){if(k[j.nodeName]){return j}j=j[i]}return null},_getChildrenByTagName:function(a,l,k){var j=[],i={};for(i[l]=i[k]=!0,a=a.firstChild;a;){i[a.nodeName]&&j.push(a),a=a.nextSibling}return d(j)},_addThumbClasses:function(a){var k,j,i=a.length;for(k=0;i>k;k++){j=d(this._findFirstElementByTagName(a[k].firstChild,"nextSibling","img","IMG")),j.length&&(j.addClass("ui-li-thumb"),d(this._findFirstElementByTagName(j[0].parentNode,"parentNode","li","LI")).addClass(j.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))}},refresh:function(ac){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var ab,aa,Z,Y,X,W,V,U,T,S,R,Q,P=this.options,N=this.element,L=N.jqmData("dividertheme")||P.dividerTheme,J=N.jqmData("splittheme"),I=N.jqmData("spliticon"),H=N.jqmData("icon"),G=this._getChildrenByTagName(N[0],"li","LI"),F=!!d.nodeName(N[0],"ol"),E=!d.support.cssPseudoElement,D=N.attr("start"),a={};F&&E&&N.find(".ui-li-dec").remove(),F&&(D||0===D?E?V=parseInt(D,10):(U=parseInt(D,10)-1,N.css("counter-reset","listnumbering "+U)):E&&(V=1)),P.theme||(P.theme=d.mobile.getInheritedTheme(this.element,"c"));for(var O=0,M=G.length;M>O;O++){if(ab=G.eq(O),aa="ui-li",ac||!ab.hasClass("ui-li")){Z=ab.jqmData("theme")||P.theme,Y=this._getChildrenByTagName(ab[0],"a","A");var K="list-divider"===ab.jqmData("role");Y.length&&!K?(R=ab.jqmData("icon"),ab.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:Y.length>1||R===!1?!1:R||H||P.icon,theme:Z}),R!==!1&&1===Y.length&&ab.addClass("ui-li-has-arrow"),Y.first().removeClass("ui-link").addClass("ui-link-inherit"),Y.length>1&&(aa+=" ui-li-has-alt",X=Y.last(),W=J||X.jqmData("theme")||P.splitTheme,Q=X.jqmData("icon"),X.appendTo(ab).attr("title",d.trim(X.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:Z,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(d(h.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:W,iconpos:"notext",icon:Q||R||I||P.splitIcon})))):K?(aa+=" ui-li-divider ui-bar-"+(ab.jqmData("theme")||L),ab.attr("role","heading"),F&&(D||0===D?E?V=parseInt(D,10):(T=parseInt(D,10)-1,ab.css("counter-reset","listnumbering "+T)):E&&(V=1))):aa+=" ui-li-static ui-btn-up-"+Z}F&&E&&aa.indexOf("ui-li-divider")<0&&(S=aa.indexOf("ui-li-static")>0?ab:ab.find(".ui-link-inherit"),S.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+V+++". </span>")),a[aa]||(a[aa]=[]),a[aa].push(ab[0])}for(aa in a){d(a[aa]).addClass(aa).children(".ui-btn-inner").addClass(aa)}N.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var i=d(this);i.prependTo(i.parent())}).end().find(".ui-li-count").each(function(){d(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(N.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(G),this._addThumbClasses(N.find(".ui-link-inherit")),this._addFirstLastClasses(G,this._getVisibles(G,ac),ac),this._trigger("afterrefresh")},_idStringEscape:function(b){return b.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var v,u=this.element,t=u.closest(".ui-page"),s=t.jqmData("url"),r=s||t[0][d.expando],q=u.attr("id"),p=this.options,o="data-"+d.mobile.ns,n=this,b=t.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof c[r]&&(c[r]=-1),q=q||++c[r],d(u.find("li>ul, li>ol").toArray().reverse()).each(function(C){var B,A,z=d(this),y=z.attr("id")||q+"-"+C,x=z.parent(),w=d(z.prevAll().toArray().reverse()),l=w.length?w:d("<span>"+d.trim(x.contents()[0].nodeValue)+"</span>"),j=l.first().getEncodedText(),i=(s||"")+"&"+d.mobile.subPageUrlKey+"="+y,E=z.jqmData("theme")||p.theme,D=z.jqmData("counttheme")||u.jqmData("counttheme")||p.countTheme;v=!0,B=z.detach().wrap("<div "+o+"role='page' "+o+"url='"+i+"' "+o+"theme='"+E+"' "+o+"count-theme='"+D+"'><div "+o+"role='content'></div></div>").parent().before("<div "+o+"role='header' "+o+"theme='"+p.headerTheme+"'><div class='ui-title'>"+j+"</div></div>").after(b?d("<div "+o+"role='footer' "+o+"id='"+b+"'>"):"").parent().appendTo(d.mobile.pageContainer),B.page(),A=x.find("a:first"),A.length||(A=d("<a/>").html(l||j).prependTo(x.empty())),A.attr("href","#"+i)}).listview(),v&&t.is(":jqmData(external-page='true')")&&t.data("mobile-page").options.domCache===!1){var a=function(i,m){var l,k=m.nextPage,j=new d.Event("pageremove");m.nextPage&&(l=k.jqmData("url"),0!==l.indexOf(s+"&"+d.mobile.subPageUrlKey)&&(n.childPages().remove(),t.trigger(j),j.isDefaultPrevented()||t.removeWithDependents()))};t.unbind("pagehide.remove").bind("pagehide.remove",a)}},childPages:function(){var a=this.parentPage.jqmData("url");return d(":jqmData(url^='"+a+"&"+d.mobile.subPageUrlKey+"')")}},d.mobile.behaviors.addFirstLastClasses)),d.mobile.document.bind("pagecreate create",function(a){d.mobile.listview.prototype.enhanceWithin(a.target)})}(f),function(j){var i=j("meta[name=viewport]"),n=i.attr("content"),m=n+",maximum-scale=1, user-scalable=no",l=n+",maximum-scale=10, user-scalable=yes",k=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);j.mobile.zoom=j.extend({},{enabled:!k,locked:!1,disable:function(a){k||j.mobile.zoom.locked||(i.attr("content",m),j.mobile.zoom.enabled=!1,j.mobile.zoom.locked=a||!1)},enable:function(a){k||j.mobile.zoom.locked&&a!==!0||(i.attr("content",l),j.mobile.zoom.enabled=!0,j.mobile.zoom.locked=!1)},restore:function(){k||(i.attr("content",n),j.mobile.zoom.enabled=!0)}})}(f),function(b){b.widget("mobile.textinput",b.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function H(){setTimeout(function(){F.toggleClass("ui-input-clear-hidden",!D.val())},0)}var G,F,E=this,D=this.element,C=this.options,B=C.theme||b.mobile.getInheritedTheme(this.element,"c"),A=" ui-body-"+B,z=C.mini?" ui-mini":"",y=D.is("[type='search'], :jqmData(type='search')"),x=C.clearSearchButtonText||C.clearBtnText,w=D.is("textarea, :jqmData(type='range')"),v=!!C.clearBtn&&!w,u=D.is("input")&&!D.is(":jqmData(type='range')");if(b("label[for='"+D.attr("id")+"']").addClass("ui-input-text"),G=D.addClass("ui-input-text ui-body-"+B),"undefined"==typeof D[0].autocorrect||b.support.touchOverflow||(D[0].setAttribute("autocorrect","off"),D[0].setAttribute("autocomplete","off")),y?G=D.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+A+z+"'></div>").parent():u&&(G=D.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+A+z+"'></div>").parent()),v||y?(F=b("<a href='#' class='ui-input-clear' title='"+x+"'>"+x+"</a>").bind("click",function(c){D.val("").focus().trigger("change"),F.addClass("ui-input-clear-hidden"),c.preventDefault()}).appendTo(G).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:C.mini}),y||G.addClass("ui-input-has-clear"),H(),D.bind("paste cut keyup input focus change blur",H)):u||y||D.addClass("ui-corner-all ui-shadow-inset"+A+z),D.focus(function(){C.preventFocusZoom&&b.mobile.zoom.disable(!0),G.addClass(b.mobile.focusClass)}).blur(function(){G.removeClass(b.mobile.focusClass),C.preventFocusZoom&&b.mobile.zoom.enable(!0)}),D.is("textarea")){var t,s=15,a=100;this._keyup=function(){var j=D[0].scrollHeight,i=D[0].clientHeight;if(j>i){var m=parseFloat(D.css("padding-top")),l=parseFloat(D.css("padding-bottom")),k=m+l;D.height(j-k+s)}},D.on("keyup change input paste",function(){clearTimeout(t),t=setTimeout(E._keyup,a)}),this._on(!0,b.mobile.document,{pagechange:"_keyup"}),b.trim(D.val())&&this._on(!0,b.mobile.window,{load:"_keyup"})}D.attr("disabled")&&this.disable()},disable:function(){var j,i=this.element.is("[type='search'], :jqmData(type='search')"),l=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),k=this.element.attr("disabled",!0)&&(l||i);return j=k?this.element.parent():this.element,j.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var j,i=this.element.is("[type='search'], :jqmData(type='search')"),l=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),k=this.element.attr("disabled",!1)&&(l||i);return j=k?this.element.parent():this.element,j.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),b.mobile.document.bind("pagecreate create",function(a){b.mobile.textinput.prototype.enhanceWithin(a.target,!0)})}(f),function(d){d.mobile.listview.prototype.options.filter=!1,d.mobile.listview.prototype.options.filterPlaceholder="Filter items...",d.mobile.listview.prototype.options.filterTheme="c",d.mobile.listview.prototype.options.filterReveal=!1;var c=function(j,i){return -1===j.toString().toLowerCase().indexOf(i)};d.mobile.listview.prototype.options.filterCallback=c,d.mobile.document.delegate("ul, ol","listviewcreate",function(){var k=d(this),j=k.data("mobile-listview");if(j&&j.options.filter){j.options.filterReveal&&k.children().addClass("ui-screen-hidden");var i=d("<form>",{"class":"ui-listview-filter ui-bar-"+j.options.filterTheme,role:"search"}).submit(function(l){l.preventDefault(),a.blur()}),b=function(){var x,w=d(this),v=this.value.toLowerCase(),u=null,t=k.children(),s=w.jqmData("lastval")+"",r=!1,q="",p=j.options.filterCallback!==c;if(!s||s!==v){if(j._trigger("beforefilter","beforefilter",{input:this}),w.jqmData("lastval",v),p||v.length<s.length||0!==v.indexOf(s)?u=k.children():(u=k.children(":not(.ui-screen-hidden)"),!u.length&&j.options.filterReveal&&(u=k.children(".ui-screen-hidden"))),v){for(var o=u.length-1;o>=0;o--){x=d(u[o]),q=x.jqmData("filtertext")||x.text(),x.is("li:jqmData(role=list-divider)")?(x.toggleClass("ui-filter-hidequeue",!r),r=!1):j.options.filterCallback(q,v,x)?x.toggleClass("ui-filter-hidequeue",!0):r=!0}u.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),u.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else{u.toggleClass("ui-screen-hidden",!!j.options.filterReveal)}j._addFirstLastClasses(t,j._getVisibles(t,!1),!1)}},a=d("<input>",{placeholder:j.options.filterPlaceholder}).attr("data-"+d.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",b).appendTo(i).textinput();j.options.inset&&i.addClass("ui-listview-filter-inset"),i.bind("submit",function(){return !1}).insertBefore(k)}})}(f),function(b){b.mobile.listview.prototype.options.autodividers=!1,b.mobile.listview.prototype.options.autodividersSelector=function(a){var d=b.trim(a.text())||null;return d?d=d.slice(0,1).toUpperCase():null},b.mobile.document.delegate("ul,ol","listviewcreate",function(){var a=b(this),j=a.data("mobile-listview");if(j&&j.options.autodividers){var i=function(){a.find("li:jqmData(role='list-divider')").remove();for(var o,n,m=a.find("li"),l=null,k=0;k<m.length;k++){if(o=m[k],n=j.options.autodividersSelector(b(o)),n&&l!==n){var d=h.createElement("li");d.appendChild(h.createTextNode(n)),d.setAttribute("data-"+b.mobile.ns+"role","list-divider"),o.parentNode.insertBefore(d,o)}l=n}},c=function(){a.unbind("listviewafterrefresh",c),i(),j.refresh(),a.bind("listviewafterrefresh",c)};c()}})}(f),function(b){b(h).bind("pagecreate create",function(a){b(":jqmData(role='nojs')",a.target).addClass("ui-nojs")})}(f),function(b){b.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(f),function(b){b.widget("mobile.checkboxradio",b.mobile.widget,b.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var B=this,A=this.element,z=this.options,y=function(i,d){return i.jqmData(d)||i.closest("form, fieldset").jqmData(d)},x=b(A).closest("label"),w=x.length?x:b(A).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+A[0].id+"']").first(),v=A[0].type,u=y(A,"mini")||z.mini,t=v+"-on",s=v+"-off",r=y(A,"iconpos"),q="ui-"+t,c="ui-"+s;if("checkbox"===v||"radio"===v){b.extend(this,{label:w,inputtype:v,checkedClass:q,uncheckedClass:c,checkedicon:t,uncheckedicon:s}),z.theme||(z.theme=b.mobile.getInheritedTheme(this.element,"c")),w.buttonMarkup({theme:z.theme,icon:s,shadow:!1,mini:u,iconpos:r});var a=h.createElement("div");a.className="ui-"+v,A.add(w).wrapAll(a),w.bind({vmouseover:function(d){b(this).parent().is(".ui-disabled")&&d.stopPropagation()},vclick:function(d){return A.is(":disabled")?(d.preventDefault(),void 0):(B._cacheVals(),A.prop("checked","radio"===v&&!0||!A.prop("checked")),A.triggerHandler("click"),B._getInputSet().not(A).prop("checked",!1),B._updateAll(),!1)}}),A.bind({vmousedown:function(){B._cacheVals()},vclick:function(){var d=b(this);d.is(":checked")?(d.prop("checked",!0),B._getInputSet().not(d).prop("checked",!1)):d.prop("checked",!1),B._updateAll()},focus:function(){w.addClass(b.mobile.focusClass)},blur:function(){w.removeClass(b.mobile.focusClass)}}),this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){b(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var a=this;this._getInputSet().each(function(){var d=b(this);(this.checked||"checkbox"===a.inputtype)&&d.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var a=this.element[0],k=" "+b.mobile.activeBtnClass,j=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?k:""),i=this.label;a.checked?i.removeClass(this.uncheckedClass+k).addClass(j).buttonMarkup({icon:this.checkedicon}):i.removeClass(j).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),a.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},b.mobile.behaviors.formReset)),b.mobile.document.bind("pagecreate create",function(a){b.mobile.checkboxradio.prototype.enhanceWithin(a.target,!0)})}(f),function(b){b.widget("mobile.button",b.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var a,k=this.element,j=function(l){var d,m={};for(d in l){null!==l[d]&&"initSelector"!==d&&(m[d]=l[d])}return m}(this.options),i="";return"A"===k[0].tagName?(k.hasClass("ui-btn")||k.buttonMarkup(),void 0):(this.options.theme||(this.options.theme=b.mobile.getInheritedTheme(this.element,"c")),~k[0].className.indexOf("ui-btn-left")&&(i="ui-btn-left"),~k[0].className.indexOf("ui-btn-right")&&(i="ui-btn-right"),("submit"===k.attr("type")||"reset"===k.attr("type"))&&(i?i+=" ui-submit":i="ui-submit"),b("label[for='"+k.attr("id")+"']").addClass("ui-submit"),this.button=b("<div></div>")[k.html()?"html":"text"](k.html()||k.val()).insertBefore(k).buttonMarkup(j).addClass(i).append(k.addClass("ui-btn-hidden")),a=this.button,k.bind({focus:function(){a.addClass(b.mobile.focusClass)},blur:function(){a.removeClass(b.mobile.focusClass)}}),this.refresh(),void 0)},_setOption:function(a,j){var i={};i[a]=j,"initSelector"!==a&&(this.button.buttonMarkup(i),this.element.attr("data-"+(b.mobile.ns||"")+a.replace(/([A-Z])/,"-$1").toLowerCase(),j)),this._super("_setOption",a,j)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var a=this.element;a.prop("disabled")?this.disable():this.enable(),b(this.button.data("buttonElements").text)[a.html()?"html":"text"](a.html()||a.val())}}),b.mobile.document.bind("pagecreate create",function(a){b.mobile.button.prototype.enhanceWithin(a.target,!0)})}(f),function(b,c){b.widget("mobile.slider",b.mobile.widget,b.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var aj,ai,ah=this,ag=this.element,af=b.mobile.getInheritedTheme(ag,"c"),ae=this.options.theme||af,ad=this.options.trackTheme||af,ac=ag[0].nodeName.toLowerCase(),ab=(this.isToggleSwitch="select"===ac,ag.parent().is(":jqmData(role='rangeslider')")),aa=this.isToggleSwitch?"ui-slider-switch":"",Z=ag.attr("id"),Y=b("[for='"+Z+"']"),W=Y.attr("id")||Z+"-label",U=Y.attr("id",W),S=this.isToggleSwitch?0:parseFloat(ag.attr("min")),Q=this.isToggleSwitch?ag.find("option").length-1:parseFloat(ag.attr("max")),O=e.parseFloat(ag.attr("step")||1),M=this.options.mini||ag.jqmData("mini")?" ui-mini":"",K=h.createElement("a"),I=b(K),d=h.createElement("div"),a=b(d),X=this.options.highlight&&!this.isToggleSwitch?function(){var i=h.createElement("div");return i.className="ui-slider-bg "+b.mobile.activeBtnClass+" ui-btn-corner-all",b(i).prependTo(a)}():!1;if(K.setAttribute("href","#"),d.setAttribute("role","application"),d.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",aa," ui-btn-down-",ad," ui-btn-corner-all",M].join(""),K.className="ui-slider-handle",d.appendChild(K),I.buttonMarkup({corners:!0,theme:ae,shadow:!0}).attr({role:"slider","aria-valuemin":S,"aria-valuemax":Q,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":W}),b.extend(this,{slider:a,handle:I,type:ac,step:O,max:Q,min:S,valuebg:X,isRangeslider:ab,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){ai=h.createElement("div"),ai.className="ui-slider-inneroffset";for(var V=0,T=d.childNodes.length;T>V;V++){ai.appendChild(d.childNodes[V])}d.appendChild(ai),I.addClass("ui-slider-handle-snapping"),aj=ag.find("option");for(var R=0,P=aj.length;P>R;R++){var N=R?"a":"b",L=R?" "+b.mobile.activeBtnClass:" ui-btn-down-"+ad,J=(h.createElement("div"),h.createElement("span"));J.className=["ui-slider-label ui-slider-label-",N,L," ui-btn-corner-all"].join(""),J.setAttribute("role","img"),J.appendChild(h.createTextNode(aj[R].innerHTML)),b(J).prependTo(a)}ah._labels=b(".ui-slider-label",a)}U.addClass("ui-slider"),ag.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(ag,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),a.bind("vmousedown",b.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(h,{vmousemove:"_preventDocumentDrag"}),this._on(a.add(h),{vmouseup:"_sliderVMouseUp"}),a.insertAfter(ag),this.isToggleSwitch||ab||(ai=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",ag.add(a).wrapAll(ai)),this.isToggleSwitch&&this.handle.bind({focus:function(){a.addClass(b.mobile.focusClass)},blur:function(){a.removeClass(b.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(c,c,!0)},_controlChange:function(d){return this._trigger("controlchange",d)===!1?!1:(this.mouseMoved||this.refresh(this._value(),!0),void 0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(a){var d=this._value();if(!this.options.disabled){switch(a.keyCode){case b.mobile.keyCode.HOME:case b.mobile.keyCode.END:case b.mobile.keyCode.PAGE_UP:case b.mobile.keyCode.PAGE_DOWN:case b.mobile.keyCode.UP:case b.mobile.keyCode.RIGHT:case b.mobile.keyCode.DOWN:case b.mobile.keyCode.LEFT:a.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(a.keyCode){case b.mobile.keyCode.HOME:this.refresh(this.min);break;case b.mobile.keyCode.END:this.refresh(this.max);break;case b.mobile.keyCode.PAGE_UP:case b.mobile.keyCode.UP:case b.mobile.keyCode.RIGHT:this.refresh(d+this.step);break;case b.mobile.keyCode.PAGE_DOWN:case b.mobile.keyCode.DOWN:case b.mobile.keyCode.LEFT:this.refresh(d-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(d){return this.options.disabled||1!==d.which&&0!==d.which&&d.which!==c?!1:this._trigger("beforestart",d)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(d),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(d){return this._trigger("drag",d)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(d),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(c,!1,!0)},refresh:function(ac,ab,aa){var Z,Y,X,W,V=this,U=b.mobile.getInheritedTheme(this.element,"c"),T=this.options.theme||U,S=this.options.trackTheme||U;V.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+S," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var d=h.createElement("div");return d.className="ui-slider-bg "+b.mobile.activeBtnClass+" ui-btn-corner-all",b(d).prependTo(V.slider)}()),this.handle.buttonMarkup({corners:!0,theme:T,shadow:!0});var R,Q,P=this.element,N=!this.isToggleSwitch,L=N?[]:P.find("option"),J=N?parseFloat(P.attr("min")):0,I=N?parseFloat(P.attr("max")):L.length-1,H=N&&parseFloat(P.attr("step"))>0?parseFloat(P.attr("step")):1;if("object"==typeof ac){if(X=ac,W=8,Z=this.slider.offset().left,Y=this.slider.width(),R=Y/((I-J)/H),!this.dragging||X.pageX<Z-W||X.pageX>Z+Y+W){return}Q=R>1?100*((X.pageX-Z)/Y):Math.round(100*((X.pageX-Z)/Y))}else{null==ac&&(ac=N?parseFloat(P.val()||0):P[0].selectedIndex),Q=100*((parseFloat(ac)-J)/(I-J))}if(!isNaN(Q)){var G=Q/100*(I-J)+J,F=(G-J)%H,E=G-F;2*Math.abs(F)>=H&&(E+=F>0?H:-H);var D=100/((I-J)/H);if(G=parseFloat(E.toFixed(5)),"undefined"==typeof R&&(R=Y/((I-J)/H)),R>1&&N&&(Q=(G-J)*D*(1/H)),0>Q&&(Q=0),Q>100&&(Q=100),J>G&&(G=J),G>I&&(G=I),this.handle.css("left",Q+"%"),this.handle[0].setAttribute("aria-valuenow",N?G:L.eq(G).attr("value")),this.handle[0].setAttribute("aria-valuetext",N?G:L.eq(G).getEncodedText()),this.handle[0].setAttribute("title",N?G:L.eq(G).getEncodedText()),this.valuebg&&this.valuebg.css("width",Q+"%"),this._labels){var a=100*(this.handle.width()/this.slider.width()),O=Q&&a+(100-a)*Q/100,M=100===Q?0:Math.min(a+100-O,100);this._labels.each(function(){var d=b(this).is(".ui-slider-label-a");b(this).width((d?O:M)+"%")})}if(!aa){var K=!1;if(N?(K=P.val()!==G,P.val(G)):(K=P[0].selectedIndex!==G,P[0].selectedIndex=G),this._trigger("beforechange",ac)===!1){return !1}!ab&&K&&P.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},b.mobile.behaviors.formReset)),b.mobile.document.bind("pagecreate create",function(a){b.mobile.slider.prototype.enhanceWithin(a.target,!0)})}(f),function(b){b.widget("mobile.rangeslider",b.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var t,s=this.element,r=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",q=s.find("input").first(),p=s.find("input").last(),o=s.find("label").first(),n=b.data(q.get(0),"mobileSlider").slider,m=b.data(p.get(0),"mobileSlider").slider,l=b.data(q.get(0),"mobileSlider").handle,a=b('<div class="ui-rangeslider-sliders" />').appendTo(s);s.find("label").length>1&&(t=s.find("label").last().hide()),q.addClass("ui-rangeslider-first"),p.addClass("ui-rangeslider-last"),s.addClass(r),n.appendTo(a),m.appendTo(a),o.prependTo(s),l.prependTo(m),b.extend(this,{_inputFirst:q,_inputLast:p,_sliderFirst:n,_sliderLast:m,_targetVal:null,_sliderTarget:!1,_sliders:a,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(l,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var c=this;setTimeout(function(){c._updateHighlight()},0)},_dragFirstHandle:function(a){return b.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,b.data(this._inputFirst.get(0),"mobileSlider").refresh(a),!1},_slidedrag:function(a){var j=b(a.target).is(this._inputFirst),i=j?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&j||"last"===this._proxy&&!j?(b.data(i.get(0),"mobileSlider").dragging=!0,b.data(i.get(0),"mobileSlider").refresh(a),!1):void 0},_slidestop:function(a){var d=b(a.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",d?1:"")},_slidebeforestart:function(a){this._sliderTarget=!1,b(a.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=b(a.target).val())},_setOption:function(c){this._superApply(c),this.refresh()},refresh:function(){var d=this.element,c=this.options;d.find("input").slider({theme:c.theme,trackTheme:c.trackTheme,disabled:c.disabled,mini:c.mini,highlight:c.highlight}).slider("refresh"),this._updateHighlight()},_change:function(a){if("keyup"===a.type){return this._updateHighlight(),!1}var n=this,m=parseFloat(this._inputFirst.val(),10),l=parseFloat(this._inputLast.val(),10),k=b(a.target).hasClass("ui-rangeslider-first"),j=k?this._inputFirst:this._inputLast,i=k?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===a.type&&!b(a.target).hasClass("ui-slider-handle")){j.blur()}else{if("mousedown"===a.type){return}}return m>l&&!this._sliderTarget?(j.val(k?l:m).slider("refresh"),this._trigger("normalize")):m>l&&(j.val(this._targetVal).slider("refresh"),setTimeout(function(){i.val(k?m:l).slider("refresh"),b.data(i.get(0),"mobileSlider").handle.focus(),n._sliderFirst.css("z-index",k?"":1),n._trigger("normalize")},0),this._proxy=k?"first":"last"),m===l?(b.data(j.get(0),"mobileSlider").handle.css("z-index",1),b.data(i.get(0),"mobileSlider").handle.css("z-index",0)):(b.data(i.get(0),"mobileSlider").handle.css("z-index",""),b.data(j.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),m>=l?!1:void 0},_updateHighlight:function(){var a=parseInt(b.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),j=parseInt(b.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),i=j-a;this.element.find(".ui-slider-bg").css({"margin-left":a+"%",width:i+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),b.widget("mobile.rangeslider",b.mobile.rangeslider,b.mobile.behaviors.formReset),b(h).bind("pagecreate create",function(a){b.mobile.rangeslider.prototype.enhanceWithin(a.target,!0)})}(f),function(b){b.widget("mobile.selectmenu",b.mobile.widget,b.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return b("<div/>")},_setDisabled:function(c){return this.element.attr("disabled",c),this.button.attr("aria-disabled",c),this._setOption("disabled",c)},_focusButton:function(){var c=this;setTimeout(function(){c.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var a="";~this.element[0].className.indexOf("ui-btn-left")&&(a=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(a=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+a+"'>"),this.selectID=this.select.attr("id"),this.label=b("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=b.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var c=this.element.parents(".ui-select");c.length>0&&(c.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(c.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(c),c.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var m=this,l=this.options,k=l.inline||this.select.jqmData("inline"),j=l.mini||this.select.jqmData("mini"),i=l.icon?l.iconpos||this.select.jqmData("iconpos"):!1,a=(-1===this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:l.theme,icon:l.icon,iconpos:i,inline:k,corners:l.corners,shadow:l.shadow,iconshadow:l.iconshadow,mini:j}));this.setButtonText(),l.nativeMenu&&e.opera&&e.opera.version&&a.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=b("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(a.addClass("ui-li-has-count"))),(l.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){m.refresh(),l.nativeMenu&&this.blur()}),this._handleFormReset(),this.build()},build:function(){var a=this;this.select.appendTo(a.button).bind("vmousedown",function(){a.button.addClass(b.mobile.activeBtnClass)}).bind("focus",function(){a.button.addClass(b.mobile.focusClass)}).bind("blur",function(){a.button.removeClass(b.mobile.focusClass)}).bind("focus vmouseover",function(){a.button.trigger("vmouseover")}).bind("vmousemove",function(){a.button.removeClass(b.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){a.button.trigger("vmouseout").removeClass(b.mobile.activeBtnClass)}).bind("change blur",function(){a.button.removeClass("ui-btn-down-"+a.options.theme)}),a.button.bind("vmousedown",function(){a.options.preventFocusZoom&&b.mobile.zoom.disable(!0)}),a.label.bind("click focus",function(){a.options.preventFocusZoom&&b.mobile.zoom.disable(!0)}),a.select.bind("focus",function(){a.options.preventFocusZoom&&b.mobile.zoom.disable(!0)}),a.button.bind("mouseup",function(){a.options.preventFocusZoom&&setTimeout(function(){b.mobile.zoom.enable(!0)},0)}),a.select.bind("blur",function(){a.options.preventFocusZoom&&b.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var c=this;return this.selected().map(function(){return c._selectOptions().index(this)}).get()},setButtonText:function(){var a=this,j=this.selected(),i=this.placeholder,c=b(h.createElement("span"));this.button.find(".ui-btn-text").html(function(){return i=j.length?j.map(function(){return b(this).text()}).get().join(", "):a.placeholder,c.text(i).addClass(a.select.attr("class")).addClass(j.attr("class"))})},setButtonCount:function(){var c=this.selected();this.isMultiple&&this.buttonCount[c.length>1?"show":"hide"]().text(c.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:b.noop,close:b.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}},b.mobile.behaviors.formReset)),b.mobile.document.bind("pagecreate create",function(a){b.mobile.selectmenu.prototype.enhanceWithin(a.target,!0)})}(f),function(b,j){function i(l,k,o,n){var m=n;return m=k>l?o+(l-k)/2:Math.min(Math.max(o,n-k/2),o+l-k)}function c(){var a=b.mobile.window;return{x:a.scrollLeft(),y:a.scrollTop(),cx:e.innerWidth||a.width(),cy:e.innerHeight||a.height()}}b.widget("mobile.popup",b.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!b.mobile.browser.oldIE},_eatEventAndClose:function(d){return d.preventDefault(),d.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var d=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),d>this._ui.screen.height()&&this._ui.screen.height(d)},_handleWindowKeyUp:function(a){return this._isOpen&&a.keyCode===b.mobile.keyCode.ESCAPE?this._eatEventAndClose(a):void 0},_expectResizeEvent:function(){var a=c();if(this._resizeData){if(a.x===this._resizeData.winCoords.x&&a.y===this._resizeData.winCoords.y&&a.cx===this._resizeData.winCoords.cx&&a.cy===this._resizeData.winCoords.cy){return !1}clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(b.proxy(this,"_resizeTimeout"),200),winCoords:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var d=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){d._ignoreResizeTo=0},1000)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(a){var m,l=a.target,k=this._ui;if(this._isOpen){if(l!==k.container[0]){if(m=b(a.target),0===m.parents().filter(k.container[0]).length){return b(h.activeElement).one("focus",function(){m.blur()}),k.focusElement.focus(),a.preventDefault(),a.stopImmediatePropagation(),!1}k.focusElement[0]===k.container[0]&&(k.focusElement=m)}this._ignoreResizeEvents()}},_create:function(){var a={screen:b("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:b("<div style='display: none;'><!-- placeholder --></div>"),container:b("<div class='ui-popup-container ui-popup-hidden'></div>")},m=this.element.closest(".ui-page"),l=this.element.attr("id"),k=this.options;k.history=k.history&&b.mobile.ajaxEnabled&&b.mobile.hashListeningEnabled,0===m.length&&(m=b("body")),k.container=k.container||b.mobile.pageContainer||m,m.append(a.screen),a.container.insertAfter(a.screen),a.placeholder.insertAfter(this.element),l&&(a.screen.attr("id",l+"-screen"),a.container.attr("id",l+"-popup"),a.placeholder.html("<!-- placeholder for "+l+" -->")),a.container.append(this.element),a.focusElement=a.container,this.element.addClass("ui-popup"),b.extend(this,{_scrollTop:0,_page:m,_ui:a,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._applyTheme(this.element,k.theme,"body"),this._applyTheme(this._ui.screen,k.overlayTheme,"overlay"),this._applyTransition(k.transition),this.element.toggleClass("ui-overlay-shadow",k.shadow).toggleClass("ui-corner-all",k.corners),this._setTolerance(k.tolerance),a.screen.bind("vclick",b.proxy(this,"_eatEventAndClose")),this._on(b.mobile.window,{orientationchange:b.proxy(this,"_handleWindowOrientationchange"),resize:b.proxy(this,"_handleWindowResize"),keyup:b.proxy(this,"_handleWindowKeyUp")}),this._on(b.mobile.document,{focusin:b.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(l,k,q){for(var p,o=(l.attr("class")||"").split(" "),n=null,m=String(k);o.length>0;){if(n=o.pop(),p=new RegExp("^ui-"+q+"-([a-z])$").exec(n),p&&p.length>1){n=p[1];break}n=null}k!==n&&(l.removeClass("ui-"+q+"-"+n),null!==k&&"none"!==k&&l.addClass("ui-"+q+"-"+m))},_setTheme:function(d){this._applyTheme(this.element,d,"body")},_setOverlayTheme:function(d){this._applyTheme(this._ui.screen,d,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(d){this.element.toggleClass("ui-overlay-shadow",d)},_setCorners:function(d){this.element.toggleClass("ui-corner-all",d)},_applyTransition:function(a){this._ui.container.removeClass(this._fallbackTransition),a&&"none"!==a&&(this._fallbackTransition=b.mobile._maybeDegradeTransition(a),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(d){this._currentTransition||this._applyTransition(d)},_setTolerance:function(a){var k={t:30,r:15,b:30,l:15};if(a!==j){var d=String(a).split(",");switch(b.each(d,function(m,l){d[m]=parseInt(l,10)}),d.length){case 1:isNaN(d[0])||(k.t=k.r=k.b=k.l=d[0]);break;case 2:isNaN(d[0])||(k.t=k.b=d[0]),isNaN(d[1])||(k.l=k.r=d[1]);break;case 4:isNaN(d[0])||(k.t=d[0]),isNaN(d[1])||(k.r=d[1]),isNaN(d[2])||(k.b=d[2]),isNaN(d[3])||(k.l=d[3])}}this._tolerance=k},_setOption:function(k,d){var l="_set"+k.charAt(0).toUpperCase()+k.slice(1);this[l]!==j&&this[l](d),this._super(k,d)},_placementCoords:function(m){var l,s,r=c(),q={x:this._tolerance.l,y:r.y+this._tolerance.t,cx:r.cx-this._tolerance.l-this._tolerance.r,cy:r.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",q.cx),l={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},s={x:i(q.cx,l.cx,q.x,m.x),y:i(q.cy,l.cy,q.y,m.y)},s.y=Math.max(0,s.y);var p=h.documentElement,o=h.body,n=Math.max(p.clientHeight,o.scrollHeight,o.offsetHeight,p.scrollHeight,p.offsetHeight);return s.y-=Math.min(s.y,Math.max(0,s.y+l.cy-n)),{left:s.x,top:s.y}},_createPrereqs:function(a,n,m){var l,k=this;l={screen:b.Deferred(),container:b.Deferred()},l.screen.then(function(){l===k._prereqs&&a()}),l.container.then(function(){l===k._prereqs&&n()}),b.when(l.screen,l.container).done(function(){l===k._prereqs&&(k._prereqs=null,m())}),k._prereqs=l},_animate:function(a){return this._ui.screen.removeClass(a.classToRemove).addClass(a.screenClassToAdd),a.prereqs.screen.resolve(),a.transition&&"none"!==a.transition&&(a.applyTransition&&this._applyTransition(a.transition),this._fallbackTransition)?(this._ui.container.animationComplete(b.proxy(a.prereqs.container,"resolve")).addClass(a.containerClassToAdd).removeClass(a.classToRemove),void 0):(this._ui.container.removeClass(a.classToRemove),a.prereqs.container.resolve(),void 0)},_desiredCoords:function(a){var q,p=null,o=c(),n=a.x,m=a.y,l=a.positionTo;if(l&&"origin"!==l){if("window"===l){n=o.cx/2+o.x,m=o.cy/2+o.y}else{try{p=b(l)}catch(k){p=null}p&&(p.filter(":visible"),0===p.length&&(p=null))}}return p&&(q=p.offset(),n=q.left+p.outerWidth()/2,m=q.top+p.outerHeight()/2),("number"!==b.type(n)||isNaN(n))&&(n=o.cx/2+o.x),("number"!==b.type(m)||isNaN(m))&&(m=o.cy/2+o.y),{x:n,y:m}},_reposition:function(d){d={x:d.x,y:d.y,positionTo:d.positionTo},this._trigger("beforeposition",j,d),this._ui.container.offset(this._placementCoords(this._desiredCoords(d)))},reposition:function(d){this._isOpen&&this._reposition(d)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(a){var l=b.extend({},this.options,a),k=function(){var n=navigator.userAgent,m=n.match(/AppleWebKit\/([0-9\.]+)/),r=!!m&&m[1],q=n.match(/Android (\d+(?:\.\d+))/),p=!!q&&q[1],o=n.indexOf("Chrome")>-1;return null!==q&&"4.0"===p&&r&&r>534.13&&!o?!0:!1}();this._createPrereqs(b.noop,b.noop,b.proxy(this,"_openPrereqsComplete")),this._currentTransition=l.transition,this._applyTransition(l.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||b.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(l),this.options.overlayTheme&&k&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:l.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var a=this._ui.container;a.removeAttr("tabindex"),b.mobile.popup.active=j,b(":focus",a[0]).add(a[0]).blur(),this._trigger("afterclose")},_close:function(a){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(b.proxy(this,"_closePrereqScreen"),b.proxy(this,"_closePrereqContainer"),b.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:a?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){b.mobile.popup.active===this?(this.element.one("popupafterclose",b.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(o,n){var m,l,k=this.options,a=!1;e.scrollTo(0,this._scrollTop),o&&"pagebeforechange"===o.type&&n&&(m="string"==typeof n.toPage?n.toPage:n.toPage.jqmData("url"),m=b.mobile.path.parseUrl(m),l=m.pathname+m.search+m.hash,this._myUrl!==b.mobile.path.makeUrlAbsolute(l)?a=!0:o.preventDefault()),k.container.unbind(k.closeEvents),this.element.undelegate(k.closeLinkSelector,k.closeLinkEvents),this._close(a)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,b.proxy(this,"_closePopup"))},open:function(s){var r,q,p,o,n,m,l=this,a=this.options;if(!b.mobile.popup.active){if(b.mobile.popup.active=this,this._scrollTop=b.mobile.window.scrollTop(),!a.history){return l._open(s),l._bindContainerClose(),l.element.delegate(a.closeLinkSelector,a.closeLinkEvents,function(d){l.close(),d.preventDefault()}),void 0}if(m=b.mobile.urlHistory,q=b.mobile.dialogHashKey,p=b.mobile.activePage,o=p.is(".ui-dialog"),this._myUrl=r=m.getActive().url,n=r.indexOf(q)>-1&&!o&&m.activeIndex>0){return l._open(s),l._bindContainerClose(),void 0}-1!==r.indexOf(q)||o?r=b.mobile.path.parseLocation().hash+q:r+=r.indexOf("#")>-1?q:"#"+q,0===m.activeIndex&&r===m.initialDst&&(r+=q),b(e).one("beforenavigate",function(d){d.preventDefault(),l._open(s),l._bindContainerClose()}),this.urlAltered=!0,b.mobile.navigate(r,{role:"dialog"})}},close:function(){b.mobile.popup.active===this&&(this._scrollTop=b.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(b.mobile.back(),this.urlAltered=!1):this._closePopup())}}),b.mobile.popup.handleLink=function(a){var n,m=a.closest(":jqmData(role='page')"),l=0===m.length?b("body"):m,k=b(b.mobile.path.parseUrl(a.attr("href")).hash,l[0]);k.data("mobile-popup")&&(n=a.offset(),k.popup("open",{x:n.left+a.outerWidth()/2,y:n.top+a.outerHeight()/2,transition:a.jqmData("transition"),positionTo:a.jqmData("position-to")})),setTimeout(function(){var d=a.parent().parent();d.hasClass("ui-li")&&(a=d.parent()),a.removeClass(b.mobile.activeBtnClass)},300)},b.mobile.document.bind("pagebeforechange",function(a,d){"popup"===d.options.role&&(b.mobile.popup.handleLink(d.options.link),a.preventDefault())}),b.mobile.document.bind("pagecreate create",function(a){b.mobile.popup.prototype.enhanceWithin(a.target,!0)})}(f),function(i,c){var j=function(O){var N,M,L,K=(O.select,O._destroy),J=O.selectID,I=J?J:(i.mobile.ns||"")+"uuid-"+O.uuid,H=I+"-listbox",G=I+"-dialog",F=O.label,E=O.select.closest(".ui-page"),D=O._selectOptions(),C=O.isMultiple=O.select[0].multiple,B=J+"-button",A=J+"-menu",z=i("<div data-"+i.mobile.ns+"role='dialog' id='"+G+"' data-"+i.mobile.ns+"theme='"+O.options.theme+"' data-"+i.mobile.ns+"overlay-theme='"+O.options.overlayTheme+"'><div data-"+i.mobile.ns+"role='header'><div class='ui-title'>"+F.getEncodedText()+"</div></div><div data-"+i.mobile.ns+"role='content'></div></div>"),y=i("<div id='"+H+"' class='ui-selectmenu'>").insertAfter(O.select).popup({theme:O.options.overlayTheme}),x=i("<ul>",{"class":"ui-selectmenu-list",id:A,role:"listbox","aria-labelledby":B}).attr("data-"+i.mobile.ns+"theme",O.options.theme).attr("data-"+i.mobile.ns+"divider-theme",O.options.dividerTheme).appendTo(y),b=i("<div>",{"class":"ui-header ui-bar-"+O.options.theme}).prependTo(y),a=i("<h1>",{"class":"ui-title"}).appendTo(b);O.isMultiple&&(L=i("<a>",{text:O.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+i.mobile.ns+"iconpos","notext").attr("data-"+i.mobile.ns+"icon","delete").appendTo(b).buttonMarkup()),i.extend(O,{select:O.select,selectID:J,buttonId:B,menuId:A,popupID:H,dialogID:G,thisPage:E,menuPage:z,label:F,selectOptions:D,isMultiple:C,theme:O.options.theme,listbox:y,list:x,header:b,headerTitle:a,headerClose:L,menuPageContent:N,menuPageClose:M,placeholder:"",build:function(){var k=this,d=function(l){return l.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")};k.refresh(),k._origTabIndex===c&&(k._origTabIndex=null===k.select[0].getAttribute("tabindex")?!1:k.select.attr("tabindex")),k.select.attr("tabindex","-1").focus(function(){i(this).blur(),k.button.focus()}),k.button.bind("vclick keydown",function(l){k.options.disabled||k.isOpen||("vclick"===l.type||l.keyCode&&(l.keyCode===i.mobile.keyCode.ENTER||l.keyCode===i.mobile.keyCode.SPACE))&&(k._decideFormat(),"overlay"===k.menuType?k.button.attr("href","#"+d(k.popupID)).attr("data-"+(i.mobile.ns||"")+"rel","popup"):k.button.attr("href","#"+d(k.dialogID)).attr("data-"+(i.mobile.ns||"")+"rel","dialog"),k.isOpen=!0)}),k.list.attr("role","listbox").bind("focusin",function(l){i(l.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(l){i(l.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(l){var o=k.select[0].selectedIndex,n=k.list.find("li:not(.ui-li-divider)").index(this),m=k._selectOptions().eq(n)[0];m.selected=k.isMultiple?!m.selected:!0,k.isMultiple&&i(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",m.selected).toggleClass("ui-icon-checkbox-off",!m.selected),(k.isMultiple||o!==n)&&k.select.trigger("change"),k.isMultiple?k.list.find("li:not(.ui-li-divider)").eq(n).addClass("ui-btn-down-"+O.options.theme).find("a").first().focus():k.close(),l.preventDefault()}).keydown(function(l){var p,o,n=i(l.target),m=n.closest("li");switch(l.keyCode){case 38:return p=m.prev().not(".ui-selectmenu-placeholder"),p.is(".ui-li-divider")&&(p=p.prev()),p.length&&(n.blur().attr("tabindex","-1"),p.addClass("ui-btn-down-"+O.options.theme).find("a").first().focus()),!1;case 40:return o=m.next(),o.is(".ui-li-divider")&&(o=o.next()),o.length&&(n.blur().attr("tabindex","-1"),o.addClass("ui-btn-down-"+O.options.theme).find("a").first().focus()),!1;case 13:case 32:return n.trigger("click"),!1}}),k.menuPage.bind("pagehide",function(){i.mobile._bindPageRemove.call(k.thisPage)}),k.listbox.bind("popupafterclose",function(){k.close()}),k.isMultiple&&k.headerClose.click(function(){return"overlay"===k.menuType?(k.close(),!1):void 0}),k.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var k=this.list.find("li"),d=this._selectOptions();return d.text()!==k.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(k){var m,l=this;this.element,this.isMultiple,(k||this._isRebuildRequired())&&l._buildList(),m=this.selectedIndices(),l.setButtonText(),l.setButtonCount(),l.list.find("li:not(.ui-li-divider)").removeClass(i.mobile.activeBtnClass).attr("aria-selected",!1).each(function(d){if(i.inArray(d,m)>-1){var n=i(this);n.attr("aria-selected",!0),l.isMultiple?n.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):n.is(".ui-selectmenu-placeholder")?n.next().addClass(i.mobile.activeBtnClass):n.addClass(i.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var d=this;"page"===d.menuType?(d.menuPage.dialog("close"),d.list.appendTo(d.listbox)):d.listbox.popup("close"),d._focusButton(),d.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function d(){var r=q.list.find("."+i.mobile.activeBtnClass+" a");0===r.length&&(r=q.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),r.first().focus().closest("li").addClass("ui-btn-down-"+O.options.theme)}var q=this,p=i.mobile.window,o=q.list.parent(),n=o.outerHeight(),m=(o.outerWidth(),i("."+i.mobile.activePageClass),p.scrollTop()),l=q.button.offset().top,k=p.height();p.width(),n>k-80||!i.support.scrollTop?(q.menuPage.appendTo(i.mobile.pageContainer).page(),q.menuPageContent=z.find(".ui-content"),q.menuPageClose=z.find(".ui-header a"),q.thisPage.unbind("pagehide.remove"),0===m&&l>k&&q.thisPage.one("pagehide",function(){i(this).jqmData("lastScroll",l)}),q.menuPage.one("pageshow",function(){d()}).one("pagehide",function(){q.close()}),q.menuType="page",q.menuPageContent.append(q.list),q.menuPage.find("div .ui-title").text(q.label.text())):(q.menuType="overlay",q.listbox.one("popupafteropen",d))},_buildList:function(){var ao=this,an=this.options,am=this.placeholder,al=!0,ak=ao.isMultiple?"checkbox-off":"false";ao.list.empty().filter(".ui-listview").listview("destroy");for(var aj,ai=ao.select.find("option"),ah=ai.length,ag=this.select[0],af="data-"+i.mobile.ns,ae=af+"option-index",ad=af+"icon",ac=af+"role",ab=af+"placeholder",Z=h.createDocumentFragment(),X=!1,W=0;ah>W;W++,X=!1){var V=ai[W],U=i(V),T=V.parentNode,S=U.text(),R=h.createElement("a"),Q=[];if(R.setAttribute("href","#"),R.appendChild(h.createTextNode(S)),T!==ag&&"optgroup"===T.nodeName.toLowerCase()){var P=T.getAttribute("label");if(P!==aj){var aa=h.createElement("li");aa.setAttribute(ac,"list-divider"),aa.setAttribute("role","option"),aa.setAttribute("tabindex","-1"),aa.appendChild(h.createTextNode(P)),Z.appendChild(aa),aj=P}}!al||V.getAttribute("value")&&0!==S.length&&!U.jqmData("placeholder")||(al=!1,X=!0,null===V.getAttribute(ab)&&(this._removePlaceholderAttr=!0),V.setAttribute(ab,!0),an.hidePlaceholderMenuItems&&Q.push("ui-selectmenu-placeholder"),am!==S&&(am=ao.placeholder=S));var Y=h.createElement("li");V.disabled&&(Q.push("ui-disabled"),Y.setAttribute("aria-disabled",!0)),Y.setAttribute(ae,W),Y.setAttribute(ad,ak),X&&Y.setAttribute(ab,!0),Y.className=Q.join(" "),Y.setAttribute("role","option"),R.setAttribute("tabindex","-1"),Y.appendChild(R),Z.appendChild(Y)}ao.list[0].appendChild(Z),this.isMultiple||am.length?this.headerTitle.text(this.placeholder):this.header.hide(),ao.list.listview()},_button:function(){return i("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),this._origTabIndex!==c&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+i.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove(),K.apply(this,arguments)}})};i.mobile.document.bind("selectmenubeforecreate",function(a){var d=i(a.target).data("mobile-selectmenu");d.options.nativeMenu||0!==d.element.parents(":jqmData(role='popup')").length||j(d)})}(f),function(d,c){d.widget("mobile.controlgroup",d.mobile.widget,d.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var j=this.element,i={inner:d("<div class='ui-controlgroup-controls'></div>"),legend:d("<div role='heading' class='ui-controlgroup-label'></div>")},b=j.children("legend"),a=this;j.wrapInner(i.inner),b.length&&i.legend.append(b).insertBefore(j.children(0)),j.addClass("ui-corner-all ui-controlgroup"),d.extend(this,{_initialRefresh:!0}),d.each(this.options,function(k,l){a.options[k]=c,a._setOption(k,l,!0)})},_init:function(){this.refresh()},_setOption:function(i,b){var a="_set"+i.charAt(0).toUpperCase()+i.slice(1);this[a]!==c&&this[a](b),this._super(i,b),this.element.attr("data-"+(d.mobile.ns||"")+i.replace(/([A-Z])/,"-$1").toLowerCase(),b)},_setType:function(b){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+b),this.refresh()},_setCorners:function(b){this.element.toggleClass("ui-corner-all",b)},_setShadow:function(b){this.element.toggleClass("ui-shadow",b)},_setMini:function(b){this.element.toggleClass("ui-mini",b)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var a=this.element.find(".ui-btn").not(".ui-slider-handle"),i=this._initialRefresh;d.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(a,this.options.excludeInvisible?this._getVisibles(a,i):a,i),this._initialRefresh=!1}},d.mobile.behaviors.addFirstLastClasses)),d(function(){d.mobile.document.bind("pagecreate create",function(a){d.mobile.controlgroup.prototype.enhanceWithin(a.target,!0)})})}(f),function(b){b(h).bind("pagecreate create",function(a){b(a.target).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var c=this,j=b(this).attr("href"),i=j.substring(1);c.setAttribute("aria-haspopup",!0),c.setAttribute("aria-owns",i),c.setAttribute("aria-expanded",!1),b(h).on("popupafteropen",j,function(){c.setAttribute("aria-expanded",!0)}).on("popupafterclose",j,function(){c.setAttribute("aria-expanded",!1)})}).end().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(f),function(d,c){d.widget("mobile.fixedtoolbar",d.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return !d.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var a=this,l=a.options,k=a.element,j=k.is(":jqmData(role='header')")?"header":"footer",i=k.closest(".ui-page");return l.supportBlacklist()?(a.destroy(),void 0):(k.addClass("ui-"+j+"-fixed"),l.fullscreen?(k.addClass("ui-"+j+"-fullscreen"),i.addClass("ui-page-"+j+"-fullscreen")):i.addClass("ui-page-"+j+"-fixed"),d.extend(this,{_thisPage:null}),a._addTransitionClass(),a._bindPageEvents(),a._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var b=this.options.transition;b&&"none"!==b&&("slide"===b&&(b=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(b))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var a=this.options;a.disablePageZoom&&d.mobile.zoom.disable(!0),a.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(d.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(a,n){var m=this.options;if(m.disablePageZoom&&d.mobile.zoom.enable(!0),m.updatePagePadding&&this._off(d.mobile.window,"throttledresize"),m.trackPersistentToolbars){var l=d(".ui-footer-fixed:jqmData(id)",this._thisPage),k=d(".ui-header-fixed:jqmData(id)",this._thisPage),j=l.length&&n.nextPage&&d(".ui-footer-fixed:jqmData(id='"+l.jqmData("id")+"')",n.nextPage)||d(),i=k.length&&n.nextPage&&d(".ui-header-fixed:jqmData(id='"+k.jqmData("id")+"')",n.nextPage)||d();(j.length||i.length)&&(j.add(i).appendTo(d.mobile.pageContainer),n.nextPage.one("pageshow",function(){i.prependTo(this),j.appendTo(this)}))}},_visible:!0,updatePagePadding:function(j){var i=this.element,b=i.is(".ui-header"),a=parseFloat(i.css(b?"top":"bottom"));this.options.fullscreen||(j=j&&j.type===c&&j||this._thisPage||i.closest(".ui-page"),d(j).css("padding-"+(b?"top":"bottom"),i.outerHeight()+a))},_useTransition:function(a){var p=d.mobile.window,o=this.element,n=p.scrollTop(),m=o.height(),l=o.closest(".ui-page").height(),k=d.mobile.getScreenHeight(),j=o.is(":jqmData(role='header')")?"header":"footer";return !a&&(this.options.transition&&"none"!==this.options.transition&&("header"===j&&!this.options.fullscreen&&n>m||"footer"===j&&!this.options.fullscreen&&l-m>n+k)||this.options.fullscreen)},show:function(j){var i="ui-fixed-hidden",k=this.element;this._useTransition(j)?k.removeClass("out "+i).addClass("in").animationComplete(function(){k.removeClass("in")}):k.removeClass(i),this._visible=!0},hide:function(j){var i="ui-fixed-hidden",l=this.element,k="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(j)?l.addClass(k).removeClass("in").animationComplete(function(){l.addClass(i).removeClass(k)}):l.addClass(i).removeClass(k),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var a,m,l=this,k=l.options,j=l.element,i=!0;j.closest(".ui-page").bind("vclick",function(n){k.tapToggle&&!d(n.target).closest(k.tapToggleBlacklist).length&&l.toggle()}).bind("focusin focusout",function(b){screen.width<1025&&d(b.target).is(k.hideDuringFocus)&&!d(b.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==b.type||i?"focusin"===b.type&&i&&(clearTimeout(a),i=!1,m=setTimeout(function(){l.hide()},0)):(i=!0,clearTimeout(m),a=setTimeout(function(){l.show()},0)))})},_destroy:function(){var j=this.element,i=j.is(".ui-header");j.closest(".ui-page").css("padding-"+(i?"top":"bottom"),""),j.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),j.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),d.mobile.document.bind("pagecreate create",function(a){d(a.target).jqmData("fullscreen")&&d(d.mobile.fixedtoolbar.prototype.options.initSelector,a.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),d.mobile.fixedtoolbar.prototype.enhanceWithin(a.target)})}(f),function(b){b.widget("mobile.fixedtoolbar",b.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var j=navigator.userAgent,i=navigator.platform,n=j.match(/AppleWebKit\/([0-9]+)/),m=!!n&&n[1],l=null,k=this;if(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1){l="ios"}else{if(!(j.indexOf("Android")>-1)){return}l="android"}if("ios"===l){k._bindScrollWorkaround()}else{if(!("android"===l&&m&&534>m)){return}k._bindScrollWorkaround(),k._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,j=a.is(".ui-header"),i=Math.abs(a.offset().top-b.mobile.window.scrollTop());return j||(i=Math.round(i-b.mobile.window.height()+a.outerHeight())-60),i},_bindScrollWorkaround:function(){var a=this;this._on(b.mobile.window,{scrollstop:function(){var c=a._viewportOffset();c>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var a=parseFloat(b(".ui-page-active").css("padding-bottom"));b(".ui-page-active").css("padding-bottom",a+1+"px"),setTimeout(function(){b(".ui-page-active").css("padding-bottom",a+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(f),function(b,c){b.widget("mobile.panel",b.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var a=this,n=a.element,m=n.closest(":jqmData(role='page')"),l=function(){var d=b.data(m[0],"mobilePage").options.theme,o="ui-body-"+d;return o},k=function(){var d=n.find("."+a.options.classes.panelInner);return 0===d.length&&(d=n.children().wrapAll('<div class="'+a.options.classes.panelInner+'" />').parent()),d},j=function(){var d=m.find("."+a.options.classes.contentWrap);return 0===d.length&&(d=m.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+a.options.classes.contentWrap+" "+l()+'" />').parent(),b.support.cssTransform3d&&a.options.animate&&d.addClass(a.options.classes.animate)),d},i=function(){var d=m.find("."+a.options.classes.contentFixedToolbar);return 0===d.length&&(d=m.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(a.options.classes.contentFixedToolbar),b.support.cssTransform3d&&a.options.animate&&d.addClass(a.options.classes.animate)),d};b.extend(this,{_panelID:n.attr("id"),_closeLink:n.find(":jqmData(rel='close')"),_page:n.closest(":jqmData(role='page')"),_pageTheme:l(),_panelInner:k(),_wrapper:j(),_fixedToolbar:i()}),a._addPanelClasses(),a._wrapper.addClass(this.options.classes.contentWrapClosed),a._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),a._page.addClass(a.options.classes.pagePanel),b.support.cssTransform3d&&a.options.animate&&this.element.addClass(a.options.classes.animate),a._bindUpdateLayout(),a._bindCloseEvents(),a._bindLinkListeners(),a._bindPageEvents(),a.options.dismissible&&a._createModal(),a._bindSwipeEvents()},_createModal:function(){var a=this;a._modal=b("<div class='"+a.options.classes.modal+"' data-panelid='"+a._panelID+"'></div>").on("mousedown",function(){a.close()}).appendTo(this._page)},_getPosDisplayClasses:function(d){return d+"-position-"+this.options.position+" "+d+"-display-"+this.options.display},_getPanelClasses:function(){var d=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(d+=" ui-body-"+this.options.theme),this.options.positionFixed&&(d+=" "+this.options.classes.panelFixed),d},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var d=this;d._closeLink.on("click.panel",function(a){return a.preventDefault(),d.close(),!1}),d.element.on("click.panel","a:jqmData(ajax='false')",function(){d.close()})},_positionPanel:function(){var a=this,j=a._panelInner.outerHeight(),i=j>b.mobile.getScreenHeight();i||!a.options.positionFixed?(i&&(a._unfixPanel(),b.mobile.resetActivePageHeight(j)),a._scrollIntoView(j)):a._fixPanel()},_scrollIntoView:function(a){a<b(e).scrollTop()&&e.scrollTo(0,0)},_bindFixListener:function(){this._on(b(e),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(b(e),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&b.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&b.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var d=this;d.element.on("updatelayout",function(){d._open&&d._positionPanel()})},_bindLinkListeners:function(){var a=this;a._page.on("click.panel","a",function(j){if(this.href.split("#")[1]===a._panelID&&a._panelID!==c){j.preventDefault();var i,d=b(this);return d.hasClass("ui-link")||(i=d.parent().parent(),i.hasClass("ui-li")&&(d=i.parent()),d.addClass(b.mobile.activeBtnClass),a.element.one("panelopen panelclose",function(){d.removeClass(b.mobile.activeBtnClass)})),a.toggle(),!1}})},_bindSwipeEvents:function(){var i=this,d=i._modal?i.element.add(i._modal):i.element;i.options.swipeClose&&("left"===i.options.position?d.on("swipeleft.panel",function(){i.close()}):d.on("swiperight.panel",function(){i.close()}))},_bindPageEvents:function(){var d=this;d._page.on("panelbeforeopen",function(a){d._open&&a.target!==d.element[0]&&d.close()}).on("pagehide",function(){d._open&&d.close(!0)}).on("keyup.panel",function(a){27===a.keyCode&&d._open&&d.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(a){if(!this._open){var l=this,k=l.options,j=function(){l._page.off("panelclose"),l._page.jqmData("panel","open"),!a&&b.support.cssTransform3d&&k.animate?l.element.add(l._wrapper).on(l._transitionEndEvents,i):setTimeout(i,0),l.options.theme&&"overlay"!==l.options.display&&l._page.removeClass(l._pageTheme).addClass("ui-body-"+l.options.theme),l.element.removeClass(k.classes.panelClosed).addClass(k.classes.panelOpen),l._positionPanel(),l.options.theme&&"overlay"!==l.options.display&&l._wrapper.css("min-height",l._page.css("min-height")),l._contentWrapOpenClasses=l._getPosDisplayClasses(k.classes.contentWrap),l._wrapper.removeClass(k.classes.contentWrapClosed).addClass(l._contentWrapOpenClasses+" "+k.classes.contentWrapOpen),l._fixedToolbarOpenClasses=l._getPosDisplayClasses(k.classes.contentFixedToolbar),l._fixedToolbar.removeClass(k.classes.contentFixedToolbarClosed).addClass(l._fixedToolbarOpenClasses+" "+k.classes.contentFixedToolbarOpen),l._modalOpenClasses=l._getPosDisplayClasses(k.classes.modal)+" "+k.classes.modalOpen,l._modal&&l._modal.addClass(l._modalOpenClasses)},i=function(){l.element.add(l._wrapper).off(l._transitionEndEvents,i),l._page.addClass(k.classes.pagePanelOpen),l._bindFixListener(),l._trigger("open")};this.element.closest(".ui-page-active").length<0&&(a=!0),l._trigger("beforeopen"),"open"===l._page.jqmData("panel")?l._page.on("panelclose",function(){j()}):j(),l._open=!0}},close:function(a){if(this._open){var l=this.options,k=this,j=function(){!a&&b.support.cssTransform3d&&l.animate?k.element.add(k._wrapper).on(k._transitionEndEvents,i):setTimeout(i,0),k._page.removeClass(l.classes.pagePanelOpen),k.element.removeClass(l.classes.panelOpen),k._wrapper.removeClass(l.classes.contentWrapOpen),k._fixedToolbar.removeClass(l.classes.contentFixedToolbarOpen),k._modal&&k._modal.removeClass(k._modalOpenClasses)},i=function(){k.options.theme&&"overlay"!==k.options.display&&(k._page.removeClass("ui-body-"+k.options.theme).addClass(k._pageTheme),k._wrapper.css("min-height","")),k.element.add(k._wrapper).off(k._transitionEndEvents,i),k.element.addClass(l.classes.panelClosed),k._wrapper.removeClass(k._contentWrapOpenClasses).addClass(l.classes.contentWrapClosed),k._fixedToolbar.removeClass(k._fixedToolbarOpenClasses).addClass(l.classes.contentFixedToolbarClosed),k._fixPanel(),k._unbindFixListener(),b.mobile.resetActivePageHeight(),k._page.jqmRemoveData("panel"),k._trigger("close")};this.element.closest(".ui-page-active").length<0&&(a=!0),k._trigger("beforeclose"),j(),k._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var a=this.options.classes,j=this.options.theme,i=this.element.siblings("."+a.panel).length;i?this._open&&(this._wrapper.removeClass(a.contentWrapOpen),this._fixedToolbar.removeClass(a.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(a.pagePanelOpen),j&&this._page.removeClass("ui-body-"+j).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(a.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(a.pagePanelOpen),j&&this._page.removeClass("ui-body-"+j).addClass(this._pageTheme),b.mobile.resetActivePageHeight())),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),a.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([a.panelUnfixed,a.panelClosed,a.panelOpen].join(" "))}}),b(h).bind("pagecreate create",function(a){b.mobile.panel.prototype.enhanceWithin(a.target)})}(f),function(d,c){d.widget("mobile.table",d.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var b=this;b.refresh(!0)},refresh:function(i){var b=this,a=this.element.find("thead tr");i&&this.element.addClass(this.options.classes.table),b.headers=this.element.find("tr:eq(0)").children(),b.allHeaders=b.headers.add(a.children()),a.each(function(){var j=0;d(this).children().each(function(){var m=parseInt(d(this).attr("colspan"),10),l=":nth-child("+(j+1)+")";if(d(this).jqmData("colstart",j+1),m){for(var k=0;m-1>k;k++){j++,l+=", :nth-child("+(j+1)+")"}}i===c&&d(this).jqmData("cells",""),d(this).jqmData("cells",b.element.find("tr").not(a.eq(0)).not(this).children(l)),j++})}),i===c&&this.element.trigger("refresh")}}),d.mobile.document.bind("pagecreate create",function(a){d.mobile.table.prototype.enhanceWithin(a.target)})}(f),function(d,c){d.mobile.table.prototype.options.mode="columntoggle",d.mobile.table.prototype.options.columnBtnTheme=null,d.mobile.table.prototype.options.columnPopupTheme=null,d.mobile.table.prototype.options.columnBtnText="Columns...",d.mobile.table.prototype.options.classes=d.extend(d.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),d.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(v){var u,t,s,r,q=d(this),p=q.data("mobile-table"),o=v.type,n=p.options,b=d.mobile.ns,a=(q.attr("id")||n.classes.popup)+"-popup";"columntoggle"===n.mode&&("refresh"!==o&&(p.element.addClass(n.classes.columnToggleTable),u=d("<a href='#"+a+"' class='"+n.classes.columnBtn+"' data-"+b+"rel='popup' data-"+b+"mini='true'>"+n.columnBtnText+"</a>"),t=d("<div data-"+b+"role='popup' data-"+b+"role='fieldcontain' class='"+n.classes.popup+"' id='"+a+"'></div>"),s=d("<fieldset data-"+b+"role='controlgroup'></fieldset>")),p.headers.not("td").each(function(i){var k=d(this).jqmData("priority"),j=d(this).add(d(this).jqmData("cells"));k&&(j.addClass(n.classes.priorityPrefix+k),"refresh"!==o?d("<label><input type='checkbox' checked />"+d(this).text()+"</label>").appendTo(s).children(0).jqmData("cells",j).checkboxradio({theme:n.columnPopupTheme}):d("#"+a+" fieldset div:eq("+i+")").find("input").jqmData("cells",j))}),"refresh"!==o&&s.appendTo(t),r=s===c?d("#"+a+" fieldset"):s,"refresh"!==o&&(r.on("change","input",function(){this.checked?d(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):d(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),u.insertBefore(q).buttonMarkup({theme:n.columnBtnTheme}),t.insertBefore(q).popup()),p.update=function(){r.find("input").each(function(){this.checked?(this.checked="table-cell"===d(this).jqmData("cells").eq(0).css("display"),"refresh"===o&&d(this).jqmData("cells").addClass("ui-table-cell-visible")):d(this).jqmData("cells").addClass("ui-table-cell-hidden"),d(this).checkboxradio("refresh")})},d.mobile.window.on("throttledresize",p.update),p.update())})}(f),function(b){b.mobile.table.prototype.options.mode="reflow",b.mobile.table.prototype.options.classes=b.extend(b.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),b.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(a){var m=b(this),l=a.type,k=m.data("mobile-table"),j=k.options;if("reflow"===j.mode){"refresh"!==l&&k.element.addClass(j.classes.reflowTable);var i=b(k.allHeaders.get().reverse());i.each(function(){var n=b(this).jqmData("cells"),s=b(this).jqmData("colstart"),r=n.not(this).filter("thead th").length&&" ui-table-cell-label-top",q=b(this).text();if(""!==q){if(r){var p=parseInt(b(this).attr("colspan"),10),o="";p&&(o="td:nth-child("+p+"n + "+s+")"),n.filter(o).prepend("<b class='"+j.classes.cellLabels+r+"'>"+q+"</b>")}else{n.prepend("<b class='"+j.classes.cellLabels+"'>"+q+"</b>")}}})}})}(f),function(t,s){function r(b){p=b.originalEvent,l=p.accelerationIncludingGravity,o=Math.abs(l.x),n=Math.abs(l.y),m=Math.abs(l.z),!s.orientation&&(o>7||(m>6&&8>n||8>m&&n>6)&&o>5)?k.enabled&&k.disable():k.enabled||k.enable()}t.mobile.iosorientationfixEnabled=!0;var q=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(q)&&q.indexOf("AppleWebKit")>-1)){return t.mobile.iosorientationfixEnabled=!1,void 0}var p,o,n,m,l,k=t.mobile.zoom;t.mobile.document.on("mobileinit",function(){t.mobile.iosorientationfixEnabled&&t.mobile.window.bind("orientationchange.iosorientationfix",k.enable).bind("devicemotion.iosorientationfix",r)})}(f,this),function(i,c){function l(){k.removeClass("ui-mobile-rendering")}var k=i("html"),j=(i("head"),i.mobile.window);i(c.document).trigger("mobileinit"),i.mobile.gradeA()&&(i.mobile.ajaxBlacklist&&(i.mobile.ajaxEnabled=!1),k.addClass("ui-mobile ui-mobile-rendering"),setTimeout(l,5000),i.extend(i.mobile,{initializePage:function(){var a=i.mobile.path,n=i(":jqmData(role='page'), :jqmData(role='dialog')"),m=a.stripHash(a.stripQueryParams(a.parseLocation().hash)),d=h.getElementById(m);n.length||(n=i("body").wrapInner("<div data-"+i.mobile.ns+"role='page'></div>").children(0)),n.each(function(){var o=i(this);o.jqmData("url")||o.attr("data-"+i.mobile.ns+"url",o.attr("id")||location.pathname+location.search)}),i.mobile.firstPage=n.first(),i.mobile.pageContainer=i.mobile.firstPage.parent().addClass("ui-mobile-viewport"),i.mobile.navreadyDeferred.resolve(),j.trigger("pagecontainercreate"),i.mobile.showPageLoadingMsg(),l(),i.mobile.hashListeningEnabled&&i.mobile.path.isHashValid(location.hash)&&(i(d).is(':jqmData(role="page")')||i.mobile.path.isPath(m)||m===i.mobile.dialogHashKey)?i.event.special.navigate.isPushStateEnabled()?(i.mobile.navigate.history.stack=[],i.mobile.navigate(i.mobile.path.isPath(location.hash)?location.hash:location.href)):j.trigger("hashchange",[!0]):(i.mobile.path.isHashValid(location.hash)&&(i.mobile.urlHistory.initialDst=m.replace("#","")),i.event.special.navigate.isPushStateEnabled()&&i.mobile.navigate.navigator.squash(a.parseLocation().href),i.mobile.changePage(i.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),i(function(){c.scrollTo(0,1),i.mobile.defaultHomeScroll=i.support.scrollTop&&1!==i.mobile.window.scrollTop()?1:0,i.mobile.autoInitializePage&&i.mobile.initializePage(),j.load(i.mobile.silentScroll),i.support.cssPointerEvents||i.mobile.document.delegate(".ui-disabled","vclick",function(b){b.preventDefault(),b.stopImmediatePropagation()})}))}(f,this)});